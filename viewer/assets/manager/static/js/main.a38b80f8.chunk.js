(this["webpackJsonpmanage-archives"]=this["webpackJsonpmanage-archives"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},38:function(e,t){},41:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(13),i=n.n(c),s=(n(20),n(4)),o=(n(21),n(3)),l=n(43),u=n(5),d=n(15),j=n(0),b=Object(a.forwardRef)((function(e,t){var n=e.indeterminate,c=Object(d.a)(e,["indeterminate"]),i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=r.a.useRef();return r.a.useEffect((function(){t.forEach((function(e){e&&("function"===typeof e?e(a.current):e.current=a.current)}))}),[t]),a}(t,r.a.useRef(null));return Object(a.useEffect)((function(){(null===i||void 0===i?void 0:i.current)&&(i.current.indeterminate=null!==n&&void 0!==n&&n)}),[i,n]),Object(j.jsx)(r.a.Fragment,{children:Object(j.jsx)("input",Object(o.a)({type:"checkbox",ref:i},c))})}));function g(e){var t=e.columns,n=e.data,a=e.fetchData,c=e.loading,i=e.pageCount,s=e.totalResults,d=e.skipPageReset,g=void 0!==d&&d,f=Object(u.useTable)({columns:t,data:n,initialState:{pageIndex:0},manualPagination:!0,manualSortBy:!0,pageCount:i,autoResetPage:!g,autoResetSortBy:!g},u.useSortBy,u.usePagination),h=f.getTableProps,O=f.getTableBodyProps,p=f.headerGroups,x=f.prepareRow,v=f.allColumns,m=f.page,y=f.canPreviousPage,S=f.canNextPage,C=f.pageOptions,P=f.pageCount,H=f.gotoPage,R=f.nextPage,k=f.previousPage,w=f.setPageSize,D=f.getToggleHideAllColumnsProps,M=f.state,Y=M.pageIndex,B=M.pageSize,T=M.sortBy,E=Object(u.useAsyncDebounce)(a,50);r.a.useEffect((function(){E({pageIndex:Y,pageSize:B,sortBy:T})}),[E,Y,B,T]);var F=Object(j.jsxs)("div",{className:"pagination",children:[Object(j.jsx)("button",{onClick:function(){return H(0)},disabled:!y,children:"<<"})," ",Object(j.jsx)("button",{onClick:function(){return k()},disabled:!y,children:"<"})," ",Object(j.jsx)("button",{onClick:function(){return R()},disabled:!S,children:">"})," ",Object(j.jsx)("button",{onClick:function(){return H(P-1)},disabled:!S,children:">>"})," ",Object(j.jsxs)("span",{children:["Page"," ",Object(j.jsxs)("strong",{children:[Y+1," of ",C.length]})," "]}),Object(j.jsxs)("span",{children:["| Go to page:"," ",Object(j.jsx)("input",{type:"number",defaultValue:Y+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;H(t)},style:{width:"100px"}})]})," ",Object(j.jsx)("select",{value:B,onChange:function(e){w(Number(e.target.value))},children:[10,20,50,100].map((function(e){return Object(j.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(b,Object(o.a)({name:"all"},D()))," Toggle All"]}),v.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",Object(o.a)({type:"checkbox"},e.getToggleHiddenProps()))," ",e.id]})},e.id)})),Object(j.jsx)("br",{})]}),Object(j.jsxs)("div",{children:[F,Object(j.jsx)("div",{children:c?Object(j.jsx)("div",{children:"Loading..."}):Object(j.jsxs)("div",{children:["Showing ",m.length," of ",s||0," ","results"]})})]}),Object(j.jsxs)(l.a,Object(o.a)(Object(o.a)({bordered:!0,size:"sm",className:"generic-table"},h()),{},{children:[Object(j.jsx)("thead",{children:p.map((function(e){return Object(j.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsxs)("th",Object(o.a)(Object(o.a)({},e.getHeaderProps()),{},{children:[Object(j.jsx)("div",{children:Object(j.jsxs)("span",Object(o.a)(Object(o.a)({},e.getSortByToggleProps()),{},{children:[e.render("Header"),e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""]}))}),Object(j.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),Object(j.jsxs)("tbody",Object(o.a)(Object(o.a)({},O()),{},{children:[m.map((function(e){return x(e),Object(j.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(o.a)(Object(o.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))})),Object(j.jsx)("tr",{children:c?Object(j.jsx)("td",{colSpan:1e4,children:"Loading..."}):Object(j.jsxs)("td",{colSpan:1e4,children:["Showing ",m.length," of ",s||0," ","results"]})})]}))]})),F]})}var f=n(11),h=n.n(f),O=n(6),p=n.n(O);var x=function(){var e=r.a.useMemo((function(){return[{Header:"Archive",columns:[{Header:"Id",accessor:"id",Cell:function(e){var t=e.row;return Object(j.jsx)("div",{children:Object(j.jsx)("a",{href:t.original.url,children:t.original.id})})}},{Header:"Title",accessor:"title"},{Header:"Count",accessor:"filecount"},{Header:"Size",accessor:"filesize",Cell:function(e){return function(e){var t=Math.log(e)/Math.log(1024)|0,n=(e/Math.pow(1024,t)).toFixed(2);return"".concat(n," ").concat(0===t?"bytes":"".concat("KMGTPEZY"[t-1],"B"))}(e.value)}},{Header:"Public Date",accessor:"public_date",Cell:function(e){var t=e.value;return t?p.a.unix(t).format("MM-DD-YYYY"):"Empty"}},{Header:"Create Date",accessor:"create_date",Cell:function(e){var t=e.value;return t?p.a.unix(t).format("MM-DD-YYYY"):"Empty"}},{Header:"Last Modified",accessor:"last_modified",Cell:function(e){var t=e.value;return t?p.a.unix(t).format("MM-DD-YYYY"):"Empty"}},{Header:"Source",accessor:"source_type"},{Header:"Reason",accessor:"reason"}]},{Header:"Gallery",columns:[{Header:"Id",accessor:"gallery.id",Cell:function(e){var t=e.row;return Object(j.jsx)("div",{children:t.original.gallery?Object(j.jsx)("a",{href:t.original.gallery.url,children:t.original.gallery.id}):""})}},{Header:"Link",accessor:"gallery.link",Cell:function(e){var t=e.value;return Object(j.jsx)("a",{href:t,children:t})},disableSortBy:!0}]}]}),[]),t=r.a.useState([]),n=Object(s.a)(t,2),a=n[0],c=n[1],i=r.a.useState(!1),o=Object(s.a)(i,2),l=o[0],u=o[1],d=r.a.useState("json=1"),b=Object(s.a)(d,2),f=b[0],O=b[1],x=r.a.useState(0),v=Object(s.a)(x,2),m=v[0],y=v[1],S=r.a.useState(0),C=Object(s.a)(S,2),P=C[0],H=C[1],R=r.a.useRef(0),k=r.a.useRef(!1),w=r.a.useCallback((function(e){var t=e.pageSize,n=e.pageIndex,a=e.sortBy;k.current=!0;var r=h.a.parse(f,{ignoreQueryPrefix:!0});r.page=String(n+1),r.size=String(t),a.length>0&&(r.sort_by=JSON.stringify(a));var i=h.a.stringify(r,{indices:!1}),s="".concat("/manage-archives/?").concat(i);O(i);var o=++R.current;u(!0),fetch(s).then((function(e){return e.json()})).then((function(e){o===R.current&&(console.log(e.results),c(e.results),y(e.num_pages),H(e.count),u(!1))}))}),[f]);return r.a.useEffect((function(){k.current=!1}),[a]),Object(j.jsx)("main",{className:"App",children:Object(j.jsx)("div",{children:Object(j.jsx)(g,{columns:e,data:a,fetchData:w,loading:l,pageCount:m,totalResults:P,skipPageReset:k.current})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),v()}},[[41,1,2]]]);
//# sourceMappingURL=main.a38b80f8.chunk.js.map