{"version":3,"sources":["components/ImageViewer/ImageViewer.scss","components/Archive.scss","components/Help/Help.scss","components/ArchiveCover/ArchiveCover.scss","components/SidebarArchives/SidebarArchives.scss","components/Home.scss","components/ArchiveSelect/ArchiveSelect.scss","components/ImageViewer/NavigationPager.tsx","components/ImageViewer/PreloadProgressBars.tsx","config.tsx","core/apiCalls.tsx","core/utils.tsx","components/ImageViewer/ImageViewer.tsx","components/Archive.tsx","components/Help/Help.tsx","components/ArchiveImage/ArchiveImage.tsx","assets/no_cover.png","components/ArchiveCover/ArchiveCover.tsx","components/ToggleButton.tsx","components/SidebarArchives/SidebarArchives.tsx","components/SidebarControls/SidebarControls.tsx","components/ArchiveSelect/ArchiveSelect.tsx","components/Home.tsx","components/App.tsx","index.tsx","webpack:///./src/components/ArchiveCover/ArchiveCover.scss?fd9c","webpack:///./src/components/Home.scss?84b9","webpack:///./src/components/Help/Help.scss?a197","webpack:///./src/components/Archive.scss?8c97","webpack:///./src/components/SidebarArchives/SidebarArchives.scss?0d85","webpack:///./src/components/ImageViewer/NavigationPager.scss?e8b1","webpack:///./src/components/ArchiveSelect/ArchiveSelect.scss?980a","webpack:///./src/components/ImageViewer/ImageViewer.scss?d78c","components/ImageViewer/NavigationPager.scss"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","i","locals","NavigationPager","className","currentPosition","lastPosition","navSelectOptions","handleChange","moveLeft","moveFirst","moveRight","moveLast","Pagination","listClassName","PaginationItem","PaginationLink","onClick","s","midItem","name","value","label","onChange","options","isClearable","blurInputOnSelect","noOptionsMessage","style","verticalAlign","PreloadProgressBars","images","position","left","top","width","Object","keys","map","x","percent","Number","state","Progress","key","color","config","basename","process","REACT_APP_PB_HOST_URL","PandaBackupUrl","REACT_APP_PB_SERVER","PandaBackupKey","REACT_APP_PB_KEY","async","getArchiveExtendedComponent","archiveId","apiText","query","response","fetch","credentials","json","getArchivesComponent","queryString","fileSizeIEC","bytes","exp","Math","log","toFixed","getRelativeImages","current","start","end","length","startRange","endRange","Array","fill","_","preloadOrder","arrays","result","itemIndex","arrayIndex","calculateWidthHeight","height","is_horizontal","horizontal","vertical","startWidth","startHeight","keyMap","previousQueue","nextQueue","togglePositionModal","ImageViewer","Component","constructor","props","super","oEvent","imageTarget","currentTarget","lengthComputable","this","setState","update","id","$merge","loaded","total","imageList","filter","hasOwnProperty","call","forEach","img","fetchImage","window","Image","toString","addEventListener","updateProgress","transferComplete","transferFailed","transferCanceled","src","url","$set","positions","filteredPositions","queryPositions","qs","stringify","indices","getArchiveImages","then","archiveImages","getImagesData","history","replace","archive","location","search","evt","offset","offsetLeft","offsetParent","paddingLeft","match","scrollX","clientX","offsetWidth","imgRight","nextSlide","goToPosition","doublePageMode","navImages","handlePositionChanges","startPosition","option","displayCovers","slider","slickGoTo","showPositionModal","modalInput","focus","blur","image","autoWidth","imgStyle","active","alt","correctWith","handleQueueChange","event","preventDefault","React","createRef","startImage","startIndex","currentArchiveId","positionModal","loading","preloadCount","componentDidMount","getNonCachedImagesUrls","node","scrollIntoView","setCurrentContainer","imgContainer","newId","oldId","newImgId","oldImgId","componentDidUpdate","prevProps","displayAllPreloaded","componentWillUnmount","render","displayNavigators","displayMetadata","displayPreloadInfo","scale","Metadata","cx","overlay","overlayLeft","tag","title","filecount","filesize","href","tags","transform","transformOrigin","renderedImages","renderedImagesPrevious","renderedImagesNext","y","undefined","reverse","getDisplayImage","thumbnails","String","ChangePageModal","modalContainer","inlineBlock","handlePositionModalGoTo","clearable","autoBlur","openOnFocus","onClose","noResultsText","ref","ImagePreLoadIndicator","HotKeys","handlers","keyHandlers","dots","infinite","speed","slidesToShow","slidesToScroll","focusOnSelect","centerMode","centerPadding","c","variableWidth","initialSlide","afterChange","handleSliderChange","handleImgClick","Spinner","overlayTop","hide","withRouter","Archive","runningAction","extracted","handleArchiveAction","action","archiveAction","change","field","createLog","message","handleForceUpdateArchives","catch","error","params","imgId","document","container","Button","onExtractClick","size","disabled","titleContainer","Help","actions","flex","verticalCenter","fullWidth","grow","description","noGrow","ArchiveImage","defaults","maxHeight","maxWidth","border","defaultProps","noCover","gallery","to","coverTitle","imageContainer","image_width","image_height","caption","link","highlight","commonStyle","commonStylePagination","PaginationToggleButton","showContent","topSkip","staticContent","assign","right","ToggleButton","alignRight","showContentIcon","hideContentIcon","SidebarArchives","displayQueue","archives","toggleQueue","handleGoToPage","archCont","overflowScroll","objects","has_previous","number","buttonSize","has_next","num_pages","SidebarControls","displayControls","toggleControls","controls","control","block","customStyles","menu","provided","selectProps","menuColor","ArchiveSelect","handleQueryChange","setValue","useState","selectedValue","setSelectedValue","cacheOptions","defaultOptions","getOptionLabel","e","getOptionValue","loadOptions","inputValue","simpleString","getArchiveSimpleList","onInputChange","styles","Home","displayHelp","currentArchive","currentContainer","showSearchArchiveModal","logs","level","text","showAllLogs","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","elem","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","decreaseScale","increaseScale","resetScale","toggleFullSize","contentFullScreen","toggleAllPreloaded","toggleSearchArchiveModal","toggleDoublePageMode","toggleMetadata","togglePreloadCount","togglePreloadInfo","toggleAllLogs","toggleCovers","toggleHelp","queueChange","foundIndex","findIndex","probableNextPosition","archivePage","currentLocation","currentSearch","parse","ignoreQueryPrefix","page","pathname","_HotKeysContainer","oldSearch","newSearch","currentLogsFormatted","SearchArchiveModal","handleGoToArchive","innerRef","obj","reduce","handleGoToArchiveSearchPage","CustomPopover","lines","path","overlayHelp","overlayRight","popOver","App","StrictMode","component","root","getElementById","ReactDOM","api","content","__esModule","default"],"mappings":"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","file":"static/js/main.276ebf12.chunk.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ImageViewer__inlineBlock___3x7PU{display:inline-block;width:75px}.ImageViewer__overlay___jS0Z0{position:absolute;max-width:100%;height:20px;z-index:10;color:antiquewhite;background-color:rgba(0,0,0,0.5);top:1rem;text-align:center}.ImageViewer__overlayTop___2AckZ{top:0;left:95%;text-align:center}.ImageViewer__overlayRight___2JUTP{left:85%;text-align:center}.ImageViewer__hide___1aBrC{display:none}.ImageViewer__overlayLeft___38-fE{left:1%;text-align:left}.ImageViewer__imgContainer___3vJ9G{position:relative}.ImageViewer__imgContainer___3vJ9G:-ms-fullscreen>.ImageViewer__overlay___jS0Z0{display:inherit;top:2%}.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen>.ImageViewer__overlay___jS0Z0{display:inherit;top:2%}.ImageViewer__imgContainer___3vJ9G:-moz-full-screen>.ImageViewer__overlay___jS0Z0{display:inherit;top:2%}img.ImageViewer__active___1FrCT{max-height:100%;margin-left:auto;margin-right:auto;height:auto;max-width:100%;-webkit-transition-property:-webkit-transform;transition-property:transform, -webkit-transform;-webkit-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-timing-function:ease-out;-o-transition-timing-function:ease-out;transition-timing-function:ease-out}.ImageViewer__imgContainer___3vJ9G:-ms-fullscreen>.ImageViewer__active___1FrCT{width:auto;max-height:100%}.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen{width:100%;height:100%;background-color:black}.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen>.ImageViewer__active___1FrCT{width:auto}.ImageViewer__imgContainer___3vJ9G:-moz-full-screen>.ImageViewer__active___1FrCT{width:auto;max-height:100%}.ImageViewer__modalContainer___1MxZ7{position:absolute;height:100px;width:100%;z-index:75}.ImageViewer__tag___2mHoz{background-color:rgba(0,0,0,0.5);display:table}.ImageViewer__HotKeys___2ICLN:focus{outline:0}.ImageViewer__centerText___1e3gu{text-align:center}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inlineBlock\": \"ImageViewer__inlineBlock___3x7PU\",\n\t\"overlay\": \"ImageViewer__overlay___jS0Z0\",\n\t\"overlayTop\": \"ImageViewer__overlayTop___2AckZ\",\n\t\"overlayRight\": \"ImageViewer__overlayRight___2JUTP\",\n\t\"hide\": \"ImageViewer__hide___1aBrC\",\n\t\"overlayLeft\": \"ImageViewer__overlayLeft___38-fE\",\n\t\"imgContainer\": \"ImageViewer__imgContainer___3vJ9G\",\n\t\"active\": \"ImageViewer__active___1FrCT\",\n\t\"modalContainer\": \"ImageViewer__modalContainer___1MxZ7\",\n\t\"tag\": \"ImageViewer__tag___2mHoz\",\n\t\"HotKeys\": \"ImageViewer__HotKeys___2ICLN\",\n\t\"centerText\": \"ImageViewer__centerText___1e3gu\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Archive__container___3L_dg{margin:0 auto;padding:0;text-align:center}.Archive__titleContainer___3sRdJ{padding-top:50px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"container\": \"Archive__container___3L_dg\",\n\t\"titleContainer\": \"Archive__titleContainer___3sRdJ\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Help__verticalCenter___2hUR-{-ms-flex-align:center;align-items:center}.Help__flex___2JJlN{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;list-style:none;background:rgba(0,0,0,0.9)}.Help__flex___2JJlN>*{-ms-flex:0 1 auto;flex:0 1 auto;max-width:100%;text-align:start}.Help__grow___4mrVI{-ms-flex-positive:1;flex-grow:1;color:#b8b5c0}.Help__noGrow___34bmx{-ms-flex-positive:0;flex-grow:0;color:lightblue}.Help__fullWidth___T7Iuq{width:100%}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"verticalCenter\": \"Help__verticalCenter___2hUR-\",\n\t\"flex\": \"Help__flex___2JJlN\",\n\t\"grow\": \"Help__grow___4mrVI\",\n\t\"noGrow\": \"Help__noGrow___34bmx\",\n\t\"fullWidth\": \"Help__fullWidth___T7Iuq\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ArchiveCover__gallery___2XNvD{display:inline-block;vertical-align:top;text-align:center;background:#001a4c;font-weight:bold;position:relative;width:100%;border:1px solid grey;border-radius:2px}.ArchiveCover__gallery___2XNvD,a:hover{color:inherit;text-decoration:none}.ArchiveCover__coverTitle___3MvdX{max-height:28px;line-height:13px;padding:3px;overflow:hidden;width:100%;height:4em;font-size:0.85em}.ArchiveCover__extracted___2UiVm>a>.ArchiveCover__coverTitle___3MvdX{color:#00d0ff}.ArchiveCover__caption___1jseu{max-height:35px;line-height:15px;padding:3px;overflow:hidden;width:100%;z-index:10;font-size:0.85em;color:#a8a8a4}.ArchiveCover__imageContainer___C1fJ3{display:block;max-width:100%;height:auto;margin-left:auto;margin-right:auto}.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU{background:rgba(0,0,0,0.75);position:absolute;bottom:0;top:0;left:0;right:0;margin-top:28px;margin-bottom:21px;height:auto;width:100%;pointer-events:none;opacity:0;-webkit-transition:opacity 0.125s ease;-o-transition:opacity 0.125s ease;transition:opacity 0.125s ease}.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno{width:100%;height:100%;font-size:14px;font-weight:300;line-height:1.05;opacity:0;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;-webkit-transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;-o-transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s}.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno .ArchiveCover__tag___jOY9w{width:100%;cursor:pointer}.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU{opacity:1;pointer-events:all}.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno{opacity:1}.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU .ArchiveCover__ListToggle___3cs9R{opacity:1}.ArchiveCover__queryTag___3IBHh{color:lightgreen}.ArchiveCover__smallButton___2ZAiq{margin:2px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"gallery\": \"ArchiveCover__gallery___2XNvD\",\n\t\"coverTitle\": \"ArchiveCover__coverTitle___3MvdX\",\n\t\"extracted\": \"ArchiveCover__extracted___2UiVm\",\n\t\"caption\": \"ArchiveCover__caption___1jseu\",\n\t\"imageContainer\": \"ArchiveCover__imageContainer___C1fJ3\",\n\t\"overlay\": \"ArchiveCover__overlay___1wIAU\",\n\t\"tags\": \"ArchiveCover__tags___GLbno\",\n\t\"tag\": \"ArchiveCover__tag___jOY9w\",\n\t\"ListToggle\": \"ArchiveCover__ListToggle___3cs9R\",\n\t\"queryTag\": \"ArchiveCover__queryTag___3IBHh\",\n\t\"smallButton\": \"ArchiveCover__smallButton___2ZAiq\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media screen and (min-width: 1456px){.SidebarArchives__archCont___30IUp{width:12%}}@media screen and (max-width: 1455px){.SidebarArchives__archCont___30IUp{width:19%}}@media screen and (max-width: 1019px){.SidebarArchives__archCont___30IUp{width:24%}}@media screen and (max-width: 814px){.SidebarArchives__archCont___30IUp{width:32%}}@media screen and (max-width: 542px){.SidebarArchives__archCont___30IUp{width:49%}}@media screen and (max-width: 300px){.SidebarArchives__archCont___30IUp{width:100%}}.SidebarArchives__overflowScroll___A0YoJ{overflow-y:scroll;height:100vh;scrollbar-width:none;-ms-overflow-style:none}.SidebarArchives__overflowScroll___A0YoJ::-webkit-scrollbar{width:0;height:0}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"archCont\": \"SidebarArchives__archCont___30IUp\",\n\t\"overflowScroll\": \"SidebarArchives__overflowScroll___A0YoJ\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Home__inlineBlock___33Dcx{display:inline-block;width:55px}.Home__container___KkeO7{position:relative}.Home__overlay___1L6jf{position:absolute;max-width:100%;height:20px;z-index:10;color:antiquewhite;background-color:rgba(0,0,0,0.5);top:1rem;text-align:center}.Home__overlayTop___1g6qW{top:0;left:95%;text-align:center}.Home__overlayHelp___1USgm{position:absolute;left:85%}.Home__overlayRight___AiZmH{position:absolute;right:1%;top:0;z-index:5}.Home__overlayLeft___JWQEH{position:absolute;left:1%;z-index:5}.Home__overlayLogs___MgyWx{position:absolute;right:15%;z-index:5}.Home__imgContainer___3M7tW{position:relative}.Home__imgContainer___3M7tW:-ms-fullscreen>.Home__overlay___1L6jf{display:inherit;top:2%}.Home__imgContainer___3M7tW:-webkit-full-screen>.Home__overlay___1L6jf{display:inherit;top:2%}.Home__imgContainer___3M7tW:-moz-full-screen>.Home__overlay___1L6jf{display:inherit;top:2%}img.Home__active___2X6FD{max-height:100%;margin-left:auto;margin-right:auto;height:auto;max-width:100%}.Home__imgContainer___3M7tW:-ms-fullscreen>.Home__active___2X6FD{width:auto;max-height:100%}.Home__imgContainer___3M7tW:-webkit-full-screen{width:100%;max-height:100%;background-color:black}.Home__imgContainer___3M7tW:-webkit-full-screen>.Home__active___2X6FD{max-height:100%}.Home__imgContainer___3M7tW:-moz-full-screen>.Home__active___2X6FD{width:auto;max-height:100%}.Home__modalContainer___DzRT5{position:absolute;height:100px;width:100%;top:6%;z-index:80}.Home__tag___30qLH{background-color:rgba(0,0,0,0.5);display:table}.Home__HotKeys___3qY1w:focus{outline:0}.Home__popOver___2VSiP{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;padding:5px;background:#454545;color:white;border-radius:0.3rem;font-size:0.9em;position:absolute;left:15%}.Home__logLevel-important___lcdrk{color:#93e6fc}.Home__logLevel-normal___10jOk{color:white}.Home__logLevel-error___1opE-{color:#bd2130}.Home__logLevel-warning___1Q5jK{color:#e0a800}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inlineBlock\": \"Home__inlineBlock___33Dcx\",\n\t\"container\": \"Home__container___KkeO7\",\n\t\"overlay\": \"Home__overlay___1L6jf\",\n\t\"overlayTop\": \"Home__overlayTop___1g6qW\",\n\t\"overlayHelp\": \"Home__overlayHelp___1USgm\",\n\t\"overlayRight\": \"Home__overlayRight___AiZmH\",\n\t\"overlayLeft\": \"Home__overlayLeft___JWQEH\",\n\t\"overlayLogs\": \"Home__overlayLogs___MgyWx\",\n\t\"imgContainer\": \"Home__imgContainer___3M7tW\",\n\t\"active\": \"Home__active___2X6FD\",\n\t\"modalContainer\": \"Home__modalContainer___DzRT5\",\n\t\"tag\": \"Home__tag___30qLH\",\n\t\"HotKeys\": \"Home__HotKeys___3qY1w\",\n\t\"popOver\": \"Home__popOver___2VSiP\",\n\t\"logLevel-important\": \"Home__logLevel-important___lcdrk\",\n\t\"logLevel-normal\": \"Home__logLevel-normal___10jOk\",\n\t\"logLevel-error\": \"Home__logLevel-error___1opE-\",\n\t\"logLevel-warning\": \"Home__logLevel-warning___1Q5jK\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ArchiveSelect__modalContainer___3hKCa{position:relative;height:100px;width:900px;margin-left:auto;margin-right:auto}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modalContainer\": \"ArchiveSelect__modalContainer___3hKCa\"\n};\nmodule.exports = exports;\n","import React from 'react';\r\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\r\nimport Select from 'react-select';\r\nimport s from './NavigationPager.scss';\r\nimport { OptionType } from 'react-select/src/types'\r\n\r\ninterface Props {\r\n  className: string;\r\n  currentPosition: number;\r\n  lastPosition: number;\r\n  navSelectOptions: { label: number; value: number }[];\r\n  handleChange: (option: OptionType) => void;\r\n  moveLeft: () => void;\r\n  moveFirst: () => void;\r\n  moveRight: () => void;\r\n  moveLast: () => void;\r\n}\r\n\r\nconst NavigationPager = ({ className, currentPosition, lastPosition, navSelectOptions, handleChange, moveLeft, moveFirst, moveRight, moveLast }: Props): JSX.Element => (\r\n  <Pagination listClassName={\"justify-content-center my-0\"}>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveFirst}>\r\n        &larr;&larr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveLeft}>\r\n        &larr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <div className={s.midItem}>\r\n        <Select\r\n          className={className}\r\n          name=\"select-page\"\r\n          value={{value: currentPosition, label: currentPosition}}\r\n          onChange={handleChange}\r\n          options={navSelectOptions}\r\n          isClearable={false}\r\n          blurInputOnSelect\r\n          noOptionsMessage={() => `No valid option`}\r\n        />\r\n        <span style={{ verticalAlign: 'super' }}>{ ` of ${lastPosition} ` }</span>\r\n      </div>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveRight}>\r\n        &rarr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveLast}>\r\n        &rarr;&rarr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n  </Pagination>\r\n);\r\n\r\nexport default NavigationPager;\r\n","import React from 'react';\r\nimport { Progress } from 'reactstrap';\r\nimport {ImgCacheElement} from \"../../types\";\r\n\r\ninterface Props {\r\n  images: {\r\n    [imgId: number]: ImgCacheElement;\r\n  };\r\n}\r\n\r\nconst PreloadProgressBars = ({ images }: Props): JSX.Element => (\r\n  <div style={{position: 'absolute', left: '85%', top: '16%', width: '15%'}}>\r\n    {\r\n      Object.keys(images).map(x => {\r\n        const percent = images[Number(x)].percent;\r\n        switch (images[Number(x)].state) {\r\n          case 'progress':\r\n            return <Progress key={x} color={percent < 0 ? \"warning\" : \"success\"} value={percent}\r\n            >{`${x}: ${percent}%`}</Progress>;\r\n          case 'load':\r\n            return <Progress key={x} color=\"info\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n          case 'error':\r\n            return <Progress key={x} color=\"danger\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n          case 'abort':\r\n            return <Progress key={x} color=\"danger\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n          default:\r\n            return <Progress key={x} color=\"info\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n        }\r\n      })\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default PreloadProgressBars;\r\n","export const config = {\r\n  // Panda Backup parameters. Change them to run self-hosted.\r\n  basename: process.env.REACT_APP_PB_HOST_URL || '/new-image-viewer',\r\n  PandaBackupUrl: process.env.REACT_APP_PB_SERVER || '',\r\n  PandaBackupKey: process.env.REACT_APP_PB_KEY || '',\r\n\r\n};\r\n","import qs from 'qs';\r\nimport { config } from '../config';\r\nimport {\r\n  ArchiveActionResult,\r\n  ArchiveExtendedInfo,\r\n  ArchiveObjectContainer,\r\n  ArchiveSimpleInfo,\r\n  ImgCacheElement\r\n} from \"../types\";\r\n\r\nexport async function getArchiveImages(archiveId: string, positions: number[]): Promise<ImgCacheElement[]> {\r\n  const queryPositions = qs.stringify({ i: positions }, { indices: false });\r\n  let apiText;\r\n  if (config.PandaBackupKey === '') {\r\n    apiText = ''\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/r-api/archive/${archiveId}/image_list/?${queryPositions}${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials: 'include',\r\n    });\r\n  return await response.json();\r\n}\r\n\r\nexport async function getArchiveExtendedComponent(archiveId: string, position: number): Promise<ArchiveExtendedInfo> {\r\n  const correctedPosition = position || 1;\r\n  let apiText;\r\n  if (config.PandaBackupKey === '') {\r\n    apiText = ''\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/r-api/archive/${archiveId}/?position=${correctedPosition}${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials: 'include',\r\n    });\r\n  return await response.json();\r\n}\r\n\r\nexport async function getArchiveSimpleList(simpleString: string): Promise<ArchiveSimpleInfo[]> {\r\n  // const apiText = `&api_key=${config.PandaBackupKey}`;\r\n  // const query = `${config.PandaBackupUrl}/r-api/archives_simple/?q=${simpleString}${apiText}`;\r\n  // const query = `${config.PandaBackupUrl}/autocomplete-view/?q=${simpleString}`;\r\n  const query = `${config.PandaBackupUrl}/title-suggest/?q=${simpleString}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials: 'include',\r\n    });\r\n  return await response.json();\r\n}\r\n\r\nexport async function getArchivesComponent(queryString: string): Promise<ArchiveObjectContainer> {\r\n  let apiText;\r\n  if (queryString === '') {\r\n    apiText = `?api_key=${config.PandaBackupKey}`;\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/r-api/archives/${queryString}${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials: 'include',\r\n    });\r\n  return await response.json();\r\n}\r\n\r\nexport async function archiveAction(archiveId: string, action: string): Promise<ArchiveActionResult> {\r\n  let apiText;\r\n  if (config.PandaBackupKey === '') {\r\n    apiText = ''\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/r-api/archive/${archiveId}/${action}/?${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials: 'include',\r\n    });\r\n  return await response.json();\r\n}\r\n","/* eslint no-bitwise: [\"error\", { \"int32Hint\": true }] */\r\n\r\nexport function fileSizeIEC(bytes: number): string {\r\n  const exp = Math.log(bytes) / Math.log(1024) | 0;\r\n  const result = (bytes / (1024 ** exp)).toFixed(2);\r\n\r\n  return `${result} ${(exp === 0 ? 'bytes' : `${'KMGTPEZY'[exp - 1]}B`)}`;\r\n}\r\n// KiB,MiB,GiB,TiB,PiB,EiB,ZiB,YiB\r\n\r\nconst scopePriorities = ['language', 'artist', 'group', 'parody', 'character', 'female', 'male', 'mixed', 'other', 'misc'];\r\n\r\ntype sortedTagListType = [\r\n  string,\r\n  string[]\r\n]\r\n\r\nexport function sortTags(tagList: string[]): sortedTagListType[] {\r\n  const prioritizedTaglist = [];\r\n\r\n  scopePriorities.forEach((x) => {\r\n    const matchedTags: string[] = tagList.filter(y => y.startsWith(`${x}:`)).sort();\r\n    if (matchedTags.length > 0) {\r\n      prioritizedTaglist.push([x, matchedTags]);\r\n    }\r\n  });\r\n  const remainingTags: string[] = tagList.filter(y => !scopePriorities.find(z => y.startsWith(`${z}:`))).sort();\r\n  if (remainingTags.length > 0) {\r\n    prioritizedTaglist.push(['', remainingTags]);\r\n  }\r\n\r\n  return prioritizedTaglist;\r\n}\r\n","/* eslint-disable max-len */\r\nimport React, {Component} from 'react';\r\nimport { Spinner } from 'reactstrap';\r\nimport { GlobalHotKeys } from 'react-hotkeys';\r\nimport Slider from 'react-slick';\r\nimport Select from 'react-select';\r\nimport { withRouter } from 'react-router-dom';\r\nimport update from 'immutability-helper';\r\nimport cx from 'classnames';\r\nimport NavigationPager from './NavigationPager';\r\nimport PreloadProgressBars from './PreloadProgressBars';\r\nimport s from './ImageViewer.scss';\r\nimport {getArchiveImages} from \"../../core/apiCalls\";\r\nimport { OptionType } from 'react-select/src/types'\r\nimport {\r\n  ArchiveExtendedInfo,\r\n  GenericHTMLDivElement,\r\n  ImgCacheElement,\r\n} from \"../../types\";\r\nimport {fileSizeIEC} from \"../../core/utils\";\r\n\r\nfunction imgRight(evt) {\r\n  const img = evt.currentTarget;\r\n  let left = 0;\r\n  let offset = img;\r\n  while (offset) {\r\n    left += offset.offsetLeft;\r\n    offset = offset.offsetParent;\r\n  }\r\n  if (img.style.paddingLeft) left += Number(img.style.paddingLeft.match(/\\d+/)[0]);\r\n  left -= window.scrollX;\r\n  const x = evt.clientX - left;\r\n  const w = img.width || img.offsetWidth;\r\n  return x / w > 0.5;\r\n}\r\n\r\nfunction getRelativeImages(current: number, start: number, end: number, length: number): [number[], number[]] {\r\n  let startRange = current - length;\r\n  let endRange = current + length;\r\n  if (startRange < start) {\r\n    startRange = start;\r\n  }\r\n  if (endRange > end) {\r\n    endRange = end;\r\n  }\r\n  return [\r\n    new Array(current - startRange).fill(0).map((_, i) => current - i - 1),\r\n    new Array(endRange - current).fill(0).map((_, i) => i + current + 1),\r\n  ];\r\n}\r\n\r\nfunction preloadOrder(current: number, arrays: [number[], number[]]) {\r\n\r\n  const length = arrays[0].length + arrays[1].length;\r\n  const result = [];\r\n\r\n  for (let itemIndex = 0; itemIndex < length; itemIndex++) {\r\n    for (let arrayIndex = 0; arrayIndex < 2; arrayIndex++) {\r\n      if (arrays[arrayIndex].length - 1 < itemIndex) {\r\n        continue;\r\n      }\r\n      result.push(arrays[arrayIndex][itemIndex]);\r\n    }\r\n  }\r\n\r\n  return [current, ...result]\r\n}\r\n\r\nfunction calculateWidthHeight(width: number, height: number, is_horizontal: boolean, horizontal: number, vertical: number): [number, number] {\r\n  let startWidth: number;\r\n  let startHeight: number;\r\n  if (is_horizontal) {\r\n    if (width >= horizontal) {\r\n      startWidth = horizontal;\r\n      startHeight = (startWidth * height) / width;\r\n    } else {\r\n      startWidth = width;\r\n      startHeight = height;\r\n    }\r\n  } else if (width >= vertical) {\r\n    startWidth = vertical;\r\n    startHeight = (startWidth * height) / width;\r\n  } else {\r\n    startWidth = width;\r\n    startHeight = height;\r\n  }\r\n  return [startWidth, startHeight];\r\n}\r\n\r\ninterface Props {\r\n  archive: ArchiveExtendedInfo;\r\n  startIndex: number;\r\n  startPosition: number;\r\n  location: Location;\r\n  history: {\r\n    push: (url: string) => void;\r\n    replace: (url: string) => void;\r\n  };\r\n  handleQueueChange: (archiveId: string, queueChange: number) => void;\r\n  displayCovers: boolean;\r\n  displayNavigators: boolean;\r\n  displayMetadata: boolean;\r\n  displayPreloadInfo: boolean;\r\n  doublePageMode: boolean;\r\n  setCurrentContainer: (container: GenericHTMLDivElement | null) => void;\r\n  autoWidth: boolean;\r\n  scale: number;\r\n  preloadCount: number;\r\n  displayAllPreloaded: boolean;\r\n}\r\n\r\ninterface State {\r\n  currentArchiveId: string;\r\n  currentPosition: number;\r\n  positionModal: number;\r\n  horizontal: number;\r\n  vertical: number;\r\n  showPositionModal: boolean;\r\n  loading: boolean;\r\n  navImages: [number[], number[]];\r\n  images: {\r\n    [imgId: number]: ImgCacheElement;\r\n  };\r\n}\r\n\r\nconst keyMap = {\r\n  moveLeft: ['left', 'a'],\r\n  moveRight: ['right', 'd'],\r\n  moveFirst: 'shift+left',\r\n  moveLast: 'shift+right',\r\n  previousQueue: 'y',\r\n  nextQueue: 'i',\r\n  togglePositionModal: 'u'\r\n};\r\n\r\nclass ImageViewer extends Component<Props, State> {\r\n\r\n  node: HTMLDivElement | null;\r\n  imgContainer: GenericHTMLDivElement | null;\r\n  modalInput: { current: null | Select };\r\n  slider: Slider;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.modalInput = React.createRef();\r\n\r\n    const images = {};\r\n\r\n    if(props.archive.startImage) {\r\n      const [startWidth, startHeight] = calculateWidthHeight(\r\n        props.archive.startImage.width,\r\n        props.archive.startImage.height,\r\n        props.archive.startImage.is_horizontal,\r\n        1500,\r\n        900,\r\n      );\r\n      if(props.archive.startImage) {\r\n        images[props.startIndex] = {\r\n          position: props.startIndex,\r\n          url: props.archive.startImage.url,\r\n          width: startWidth,\r\n          height: startHeight,\r\n          is_horizontal: props.archive.startImage.is_horizontal,\r\n          state: 'load',\r\n          percent: 100,\r\n        };\r\n      }\r\n    }\r\n\r\n    this.state = {\r\n      currentArchiveId: props.archive.id,\r\n      currentPosition: props.startIndex,\r\n      positionModal: props.startIndex,\r\n      horizontal: 1500,\r\n      vertical: 900,\r\n      showPositionModal: false,\r\n      loading: true,\r\n      navImages: getRelativeImages(props.startIndex, props.startPosition, props.archive.lastPosition, props.preloadCount),\r\n      images: images,\r\n    };\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('keydown', this.handleKeyDown);\r\n    // updateByIndexIfQueued(this.context.dispatcher, this.props.archive.id, this.state.currentPosition);\r\n    this.getNonCachedImagesUrls(this.props.archive.id, preloadOrder(this.state.currentPosition, [this.state.navImages[1], this.state.navImages[0]]));\r\n    if (this.node)\r\n      this.node.scrollIntoView();\r\n    if (this.props.displayCovers) {\r\n      this.slider.slickGoTo(this.state.currentPosition - 1);\r\n    }\r\n    this.props.setCurrentContainer(this.imgContainer);\r\n  }\r\n\r\n  static getDerivedStateFromProps(props: Props, state: State) {\r\n    const newId = props.archive.id;\r\n    const oldId = state.currentArchiveId;\r\n    const newImgId = props.startIndex;\r\n    const oldImgId = state.currentPosition;\r\n    if (newId !== oldId) {\r\n      const images = {};\r\n      if(props.archive.startImage) {\r\n        const [startWidth, startHeight] = calculateWidthHeight(\r\n          props.archive.startImage.width,\r\n          props.archive.startImage.height,\r\n          props.archive.startImage.is_horizontal,\r\n          state.horizontal,\r\n          state.vertical,\r\n        );\r\n        if(props.archive.startImage) {\r\n          images[props.startIndex] = {\r\n            position: props.startIndex,\r\n            url: props.archive.startImage.url,\r\n            width: startWidth,\r\n            height: startHeight,\r\n            is_horizontal: props.archive.startImage.is_horizontal,\r\n            state: 'load',\r\n            percent: 100,\r\n          };\r\n        }\r\n      }\r\n\r\n      return {\r\n        currentArchiveId: newId,\r\n        currentPosition: props.startIndex,\r\n        positionModal: props.startIndex,\r\n        loading: true,\r\n        navImages: getRelativeImages(props.startIndex, props.startPosition, props.archive.lastPosition, props.preloadCount),\r\n        images: images,\r\n      };\r\n    } else if (newImgId !== oldImgId) {\r\n      return {\r\n        loading: true,\r\n        navImages: getRelativeImages(newImgId, props.startPosition, props.archive.lastPosition, props.preloadCount),\r\n        currentPosition: newImgId,\r\n        positionModal: newImgId,\r\n      };\r\n    }\r\n\r\n    return null;\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props){\r\n    const newId = this.props.archive.id;\r\n    const oldId = prevProps.archive.id;\r\n    const newImgId = this.props.startIndex;\r\n    const oldImgId = prevProps.startIndex;\r\n    if (newId !== oldId || newImgId !== oldImgId) {\r\n      // updateByIndexIfQueued(this.context.dispatcher, newId, this.state.currentPosition);\r\n      this.getNonCachedImagesUrls(newId, preloadOrder(this.state.currentPosition, [this.state.navImages[1], this.state.navImages[0]]));\r\n      if(this.imgContainer)\r\n        this.imgContainer.scrollIntoView();\r\n    }\r\n    else if(this.props.displayAllPreloaded != prevProps.displayAllPreloaded) {\r\n      if(this.imgContainer)\r\n        this.imgContainer.scrollIntoView();\r\n    }\r\n    if (this.props.displayCovers) {\r\n      this.slider.slickGoTo(this.state.currentPosition - 1);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // window.removeEventListener('keydown', this.handleKeyDown);\r\n    this.props.setCurrentContainer(null);\r\n  }\r\n\r\n  updateProgress = (oEvent: ProgressEvent<EventTarget>) => {\r\n    const imageTarget = oEvent.currentTarget as HTMLImageElement\r\n    if (oEvent.lengthComputable) {\r\n      this.setState({\r\n        images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\r\n          percent: oEvent.loaded / oEvent.total,\r\n        }}})\r\n      });\r\n    } else {\r\n      this.setState({\r\n        images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\r\n          percent: -1,\r\n        }}})\r\n      });\r\n    }\r\n  }\r\n\r\n  transferComplete = (oEvent: ProgressEvent<EventTarget>) => {\r\n    const imageTarget = oEvent.currentTarget as HTMLImageElement\r\n    this.setState({\r\n      images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\r\n        percent: 100,\r\n        state: 'load',\r\n      }}})\r\n    });\r\n  };\r\n\r\n  transferFailed = (oEvent: ProgressEvent<EventTarget>) => {\r\n    const imageTarget = oEvent.currentTarget as HTMLImageElement\r\n    this.setState({\r\n      images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\r\n        state: 'error',\r\n      }}})\r\n    });\r\n  };\r\n\r\n  transferCanceled = (oEvent: ProgressEvent<EventTarget>) => {\r\n    const imageTarget = oEvent.currentTarget as HTMLImageElement\r\n    this.setState({\r\n      images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\r\n        state: 'abort',\r\n      }}})\r\n    });\r\n  };\r\n\r\n  getImagesData  = (imageList: ImgCacheElement[]) => {\r\n    imageList.filter(x => !{}.hasOwnProperty.call(this.state.images, x.position)).forEach((img) => {\r\n      const fetchImage = new window.Image();\r\n      fetchImage.id = img.position.toString();\r\n      fetchImage.addEventListener(\"progress\", this.updateProgress);\r\n      fetchImage.addEventListener(\"load\", this.transferComplete);\r\n      fetchImage.addEventListener(\"error\", this.transferFailed);\r\n      fetchImage.addEventListener(\"abort\", this.transferCanceled);\r\n      fetchImage.src = img.url;\r\n      // const idNum = Number(id);\r\n      this.setState({\r\n        images: update(this.state.images, {[img.position]: {$set: {\r\n          position: img.position,\r\n          url: img.url,\r\n          width: img.width,\r\n          height: img.height,\r\n          is_horizontal: img.is_horizontal,\r\n          state: 'progress',\r\n          percent: 0,\r\n        }}})\r\n      });\r\n    });\r\n  };\r\n\r\n\r\n  getNonCachedImagesUrls = (archiveId, positions) => {\r\n    const filteredPositions = positions.filter(x => !{}.hasOwnProperty.call(this.state.images, x));\r\n    if (filteredPositions.length !== 0) {\r\n      getArchiveImages(archiveId, filteredPositions)\r\n        .then(archiveImages => this.getImagesData(archiveImages))\r\n    }\r\n  };\r\n\r\n  goToPosition = (position: number) => {\r\n    if(position !== this.state.currentPosition) {\r\n      this.props.history.replace(`/${this.props.archive.id}/img/${position}${this.props.location.search}`);\r\n    }\r\n  };\r\n\r\n  handleImgClick = (evt) => {\r\n    imgRight(evt) ? this.moveRight() : this.moveLeft();\r\n  };\r\n\r\n  handleSliderChange = (nextSlide: number) => {\r\n    this.goToPosition(nextSlide + 1);\r\n  };\r\n\r\n  moveLeft = () => {\r\n    if (this.props.doublePageMode) {\r\n      if (this.state.navImages[0].length > 1) {\r\n        this.handlePositionChanges(this.state.navImages[0][1]);\r\n        return;\r\n      }\r\n    }\r\n    if (this.state.navImages[0].length > 0) {\r\n      this.handlePositionChanges(this.state.navImages[0][0]);\r\n    }\r\n  };\r\n\r\n  moveRight = () => {\r\n    if (this.props.doublePageMode) {\r\n      if (this.state.navImages[1].length > 1) {\r\n        this.handlePositionChanges(this.state.navImages[1][1]);\r\n        return;\r\n      }\r\n    }\r\n    if (this.state.navImages[1].length > 0) {\r\n      this.handlePositionChanges(this.state.navImages[1][0]);\r\n    }\r\n  };\r\n\r\n  moveFirst = () => {\r\n    this.handlePositionChanges(this.props.startPosition);\r\n  };\r\n\r\n  moveLast = () => {\r\n    this.handlePositionChanges(this.props.archive.lastPosition);\r\n  };\r\n\r\n  handlePositionModalGoTo = (option: OptionType) => {\r\n    this.handlePositionChanges(option.value);\r\n  };\r\n\r\n  handlePositionChanges = (position) => {\r\n    this.goToPosition(position);\r\n    if (this.props.displayCovers) {\r\n      this.slider.slickGoTo(position - 1);\r\n    }\r\n  };\r\n\r\n  togglePositionModal = () => {\r\n    this.setState({ showPositionModal: !this.state.showPositionModal });\r\n    if (this.state.showPositionModal && this.modalInput && this.modalInput.current) {\r\n      this.modalInput.current.focus();\r\n    }\r\n    if (!this.state.showPositionModal && this.modalInput && this.modalInput.current) {\r\n      this.modalInput.current.blur();\r\n    }\r\n  };\r\n\r\n  correctWith = (image: ImgCacheElement) => {\r\n    if (image.is_horizontal) {\r\n      if (image.width >= this.state.horizontal) {\r\n        return this.state.horizontal;\r\n      }\r\n      return image.width;\r\n    }\r\n    if (image.width >= this.state.vertical) {\r\n      return this.state.vertical;\r\n    }\r\n    return image.width;\r\n  };\r\n\r\n  getDisplayImage = (image: ImgCacheElement, autoWidth: boolean, imgStyle: {transform: string; transformOrigin: string}) => (\r\n    <img\r\n      key={image.url}\r\n      className={s.active}\r\n      src={image.url}\r\n      alt=\"\"\r\n      width={autoWidth ? 'auto' : this.correctWith(image)}\r\n      height={image.height}\r\n      style={imgStyle}\r\n    />\r\n  );\r\n\r\n  keyHandlers = {\r\n    'moveLeft': this.moveLeft,\r\n    'moveRight': this.moveRight,\r\n    'moveFirst': this.moveFirst,\r\n    'moveLast': this.moveLast,\r\n    'previousQueue': () => this.props.handleQueueChange(this.props.archive.id, -1),\r\n    'nextQueue': () => this.props.handleQueueChange(this.props.archive.id, 1),\r\n    'togglePositionModal': (event: KeyboardEvent) => {this.togglePositionModal(); event.preventDefault()},\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      showPositionModal,\r\n      currentPosition, images,\r\n      navImages\r\n    } = this.state;\r\n    const {\r\n      displayCovers, displayNavigators,\r\n      displayMetadata, autoWidth,\r\n      displayPreloadInfo, doublePageMode,\r\n      displayAllPreloaded, scale\r\n    } = this.props;\r\n    const { lastPosition } = this.props.archive;\r\n\r\n    const Metadata = displayMetadata && (\r\n      <div className={cx(s.overlay, s.overlayLeft)}>\r\n        <h6 className={s.tag}>{this.props.archive.title}</h6>\r\n        <div className={s.tag}>\r\n          {`Pages: ${this.props.archive.filecount} | Size: ${fileSizeIEC(this.props.archive.filesize)} | `}\r\n          <a href={`${this.props.archive.url}`}>Source</a>\r\n        </div>\r\n        {\r\n          this.props.archive.tags.map(tag => (\r\n            <div className={s.tag} key={tag}>{`${tag}`}</div>\r\n          ))\r\n        }\r\n      </div>\r\n    );\r\n    const imgStyle = {\r\n      // height: 'auto',\r\n      // maxWidth: '100%',\r\n      transform: `scaleX(${scale}) scaleY(${scale})`,\r\n      transformOrigin: 'center top',\r\n    };\r\n    const renderedImages = [];\r\n    let renderedImagesPrevious = [];\r\n    let renderedImagesNext = [];\r\n\r\n    if(displayAllPreloaded) {\r\n      renderedImagesPrevious = navImages[0].filter(y => images[y] !== undefined).reverse().map(x =>\r\n        <div key={x}>\r\n          { this.getDisplayImage(images[x], autoWidth, imgStyle) }\r\n        </div>\r\n      );\r\n      renderedImagesNext = navImages[1].filter(y => (images[y] !== undefined) && (!doublePageMode || y != currentPosition+1)).map(x =>\r\n        <div key={x}>\r\n          { this.getDisplayImage(images[x], autoWidth, imgStyle) }\r\n        </div>\r\n      );\r\n    }\r\n\r\n    doublePageMode && (currentPosition < lastPosition) && images[currentPosition+1] && renderedImages.push(\r\n      this.getDisplayImage(images[currentPosition+1], autoWidth, imgStyle)\r\n    );\r\n    images[currentPosition] && renderedImages.push(\r\n      this.getDisplayImage(images[currentPosition], autoWidth, imgStyle)\r\n    );\r\n\r\n    const thumbnails = displayCovers && new Array(lastPosition).fill(0).map(\r\n      (_, i) => (\r\n        ({}.hasOwnProperty.call(images, (i + 1))) ? (\r\n          <div\r\n            key={images[(i + 1)].url}\r\n            style={{ width: 210, height: 285 }}\r\n          >\r\n            <img\r\n              className={'img-fluid mx-auto'}\r\n              src={images[(i + 1)].url}\r\n              alt=\"\"\r\n              width={200}\r\n              height={'auto'}\r\n            />\r\n          </div>) : (\r\n          <div\r\n            key={String(i + 1)}\r\n            style={{ width: 210, height: 285 }}\r\n          >\r\n            <h3>{'Not loaded'}</h3>\r\n          </div>\r\n        )\r\n      ),\r\n    );\r\n    const navSelectOptions = new Array(lastPosition).fill(0).map(\r\n      (_, i) => ({ value: (i + 1), label: (i + 1) }),\r\n    );\r\n    const ChangePageModal = showPositionModal && (\r\n      <div className={s.modalContainer}>\r\n        <Select\r\n          className={s.inlineBlock}\r\n          name=\"select-page-fast\"\r\n          value={{value: currentPosition, label: currentPosition}}\r\n          onChange={this.handlePositionModalGoTo}\r\n          options={navSelectOptions}\r\n          clearable={false}\r\n          autoBlur\r\n          openOnFocus\r\n          onClose={this.togglePositionModal}\r\n          noResultsText=\"No valid page\"\r\n          ref={ this.modalInput }\r\n        />\r\n      </div>\r\n    );\r\n    const ImagePreLoadIndicator = displayPreloadInfo && <PreloadProgressBars images={images}/>;\r\n    return (\r\n      <GlobalHotKeys className={s.HotKeys} keyMap={keyMap} handlers={this.keyHandlers}>\r\n        <div ref={node => (this.node = node)}>\r\n          <h6>{this.props.archive.title}</h6>\r\n          {\r\n            displayCovers &&\r\n            <Slider\r\n              dots={false}\r\n              infinite={false}\r\n              speed={0}\r\n              slidesToShow={3}\r\n              slidesToScroll={1}\r\n              focusOnSelect\r\n              centerMode\r\n              centerPadding={'0'}\r\n              ref={(c) => { this.slider = c; }}\r\n              variableWidth\r\n              initialSlide={this.props.startIndex - 1}\r\n              afterChange={this.handleSliderChange}\r\n            >\r\n              {thumbnails}\r\n            </Slider>}\r\n          {\r\n            displayNavigators &&\r\n              <NavigationPager\r\n                className={s.inlineBlock}\r\n                currentPosition={currentPosition}\r\n                lastPosition={lastPosition}\r\n                moveFirst={this.moveFirst}\r\n                moveLeft={this.moveLeft}\r\n                moveRight={this.moveRight}\r\n                moveLast={this.moveLast}\r\n                handleChange={this.handlePositionModalGoTo}\r\n                navSelectOptions={navSelectOptions}\r\n              />\r\n          }\r\n          { ImagePreLoadIndicator }\r\n          {\r\n            renderedImagesPrevious ?\r\n              <div id=\"img-previous\" className={s.imgContainer}>\r\n                { renderedImagesPrevious }\r\n              </div> :\r\n              null\r\n          }\r\n          <div id=\"img-display\" className={s.imgContainer} onClick={this.handleImgClick} ref={node => (this.imgContainer = node as GenericHTMLDivElement)}>\r\n            { ChangePageModal }\r\n            { images[currentPosition] ? renderedImages : <div>\r\n              <h5>Current image is loading...</h5>\r\n              <Spinner style={{ width: '3rem', height: '3rem' }} color=\"primary\" />\r\n            </div> }\r\n            <div className={cx(s.overlay, s.overlayTop, s.hide)}><span id=\"img-counter\">{currentPosition}</span>/{lastPosition}</div>\r\n            { Metadata }\r\n          </div>\r\n          {\r\n            renderedImagesNext ?\r\n              <div id=\"img-next\" className={s.imgContainer}>\r\n                { renderedImagesNext }\r\n              </div> :\r\n              null\r\n          }\r\n        </div>\r\n      </GlobalHotKeys>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(ImageViewer);\r\n","import React, { Component } from 'react';\r\nimport { Spinner, Button } from 'reactstrap';\r\nimport ImageViewer from './ImageViewer/ImageViewer';\r\nimport {archiveAction, getArchiveExtendedComponent} from '../core/apiCalls';\r\nimport s from './Archive.scss';\r\nimport {ArchiveExtendedInfo, GenericHTMLDivElement} from \"../types\";\r\n\r\ninterface Props {\r\n  match: {\r\n    params: {\r\n      archiveId: string;\r\n      imgId: string;\r\n    };\r\n  };\r\n  handleQueueChange: (archiveId: string, queueChange: number) => void;\r\n  handleForceUpdateArchives: () => void;\r\n  createLog: (text: string, level: string) => void;\r\n  displayCovers: boolean;\r\n  displayNavigators: boolean;\r\n  displayMetadata: boolean;\r\n  displayPreloadInfo: boolean;\r\n  doublePageMode: boolean;\r\n  displayAllPreloaded: boolean;\r\n  autoWidth: boolean;\r\n  scale: number;\r\n  preloadCount: number;\r\n  setCurrentContainer: (container: GenericHTMLDivElement | null) => void;\r\n}\r\n\r\ninterface State {\r\n  archive: ArchiveExtendedInfo | null;\r\n  runningAction: boolean;\r\n}\r\n\r\nclass Archive extends Component<Props, State> {\r\n\r\n  state = {\r\n    archive: null,\r\n    runningAction: false,\r\n  };\r\n\r\n  componentDidMount(): void {\r\n    getArchiveExtendedComponent(this.props.match.params.archiveId, Number(this.props.match.params.imgId)).then(archive => {\r\n      this.setState({ archive });\r\n      document.title = archive.title;\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props): void {\r\n    const oldId = prevProps.match.params.archiveId;\r\n    const newId = this.props.match.params.archiveId;\r\n    const imgId = this.props.match.params.imgId;\r\n    if (newId !== oldId)\r\n      getArchiveExtendedComponent(newId, Number(imgId)).then(archive => {\r\n        this.setState({ archive });\r\n        document.title = archive.title;\r\n      })\r\n  }\r\n\r\n  onExtractClick = (): void => {\r\n    if (!this.state.runningAction && this.state.archive && !this.state.archive.extracted) {\r\n      this.handleArchiveAction(this.state.archive.id, 'extract_archive')\r\n    }\r\n  }\r\n\r\n  handleArchiveAction = (archiveId: string, action: string): void => {\r\n    this.setState({ runningAction: true });\r\n    archiveAction(archiveId, action)\r\n      .then((response) => {\r\n        if (response.result === 'ok') {\r\n          const { archive } = this.state;\r\n          if (response.change.field === 'extracted') {\r\n            archive[response.change.field] = (response.change.value.toString() === 'true');\r\n            this.setState({ archive });\r\n          }\r\n          this.props.createLog(`Archive ${archiveId} executed action ${action} successfully`, 'normal');\r\n        } else {\r\n          this.props.createLog(`Archive ${archiveId} executed action ${action} with response ${response.message}: ${response.result}`, 'normal');\r\n        }\r\n        this.setState({ runningAction: false });\r\n        this.props.handleForceUpdateArchives();\r\n      })\r\n      .catch(error => this.props.createLog(`Archive ${archiveId} executed action ${action} with async error: ${error}`, 'normal'));\r\n  };\r\n\r\n  render(): JSX.Element {\r\n    const { archive, runningAction } = this.state;\r\n    const {\r\n      match, handleQueueChange, displayCovers,\r\n      displayNavigators, displayMetadata, autoWidth,\r\n      displayPreloadInfo, doublePageMode, setCurrentContainer,\r\n      scale, preloadCount, displayAllPreloaded\r\n    } = this.props;\r\n    return (\r\n      <div className={s.container}>\r\n        {archive ?\r\n          archive.extracted ? <ImageViewer\r\n            startIndex={Number(match.params.imgId)}\r\n            archive={archive}\r\n            startPosition={1}\r\n            handleQueueChange={handleQueueChange}\r\n            displayCovers={displayCovers}\r\n            displayNavigators={displayNavigators}\r\n            displayMetadata={displayMetadata}\r\n            displayPreloadInfo={displayPreloadInfo}\r\n            doublePageMode={doublePageMode}\r\n            displayAllPreloaded={displayAllPreloaded}\r\n            setCurrentContainer={setCurrentContainer}\r\n            autoWidth={autoWidth}\r\n            scale={scale}\r\n            preloadCount={preloadCount}\r\n          /> : <div>\r\n            <h6>{archive.title}</h6>\r\n            <h6>Archive needs to be extracted before using it in here.</h6>\r\n            <Button onClick={this.onExtractClick} size=\"sm\" disabled={runningAction}>{'Extract Archive'}</Button>\r\n          </div>\r\n          : <Spinner className={s.titleContainer} style={{ width: '3rem', height: '3rem' }} color=\"primary\" />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Archive;\r\n","import React from 'react';\r\nimport s from './Help.scss';\r\nimport cx from 'classnames';\r\n\r\ninterface Props {\r\n  actions: {\r\n    key: string;\r\n    name: string;\r\n    description: string;\r\n    action?: () => void\r\n  }[];\r\n}\r\n\r\n\r\nconst Help = ({actions}: Props): JSX.Element => (\r\n  <div className={s.flex}>\r\n    <div className={cx(s.verticalCenter, s.fullWidth)}>Keyboard shortcuts</div>\r\n    {\r\n      actions.map((x) =>\r\n        <div className={cx(s.verticalCenter, s.flex, s.fullWidth)} key={x.key}>\r\n          <div className={cx(s.grow)}>{x.description}</div>\r\n          <div className={cx(s.noGrow)}>{x.key}</div>\r\n        </div>\r\n      )\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default Help;\r\n","import React from 'react';\r\n\r\ninterface AImage {src: string; title: string; height: number; width: number; className: string }\r\n\r\nconst ArchiveImage = ({src, title, height, width, className }: AImage): JSX.Element => {\r\n  const defaults = {\r\n    maxHeight: 290,\r\n    width,\r\n    // backgroundColor: 'gray',\r\n  };\r\n\r\n  const imgStyle = {\r\n    height: 'auto',\r\n    maxWidth: '100%',\r\n    maxHeight: height,\r\n    border: '1px solid #ccc',\r\n  };\r\n\r\n  return (<div className={className} style={{ ...defaults }}>\r\n    <img style={imgStyle} src={src} alt={title} height={height} width={width} />\r\n  </div>);\r\n};\r\n\r\nArchiveImage.defaultProps = {\r\n  width: 200,\r\n  height: 290,\r\n};\r\n\r\nexport default (ArchiveImage);\r\n","export default __webpack_public_path__ + \"static/media/no_cover.8e25d57e.png\";","import React from 'react';\r\nimport {\r\n  Link,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport cx from 'classnames';\r\nimport s from './ArchiveCover.scss';\r\nimport ArchiveImage from '../ArchiveImage/ArchiveImage';\r\nimport noCover from '../../assets/no_cover.png';\r\nimport {ArchiveHomeInfo} from \"../../types\";\r\nimport {fileSizeIEC} from \"../../core/utils\";\r\n\r\ninterface P {\r\n  archive: ArchiveHomeInfo;\r\n  location: Location;\r\n}\r\n\r\nconst ArchiveCover = ({ archive, location }: P) => {\r\n  const image = archive.image ? archive.image : noCover;\r\n  const tags = archive.tags.map(tag => (\r\n    <div className={s.tag} key={tag}>{`${tag}`}</div>\r\n  ));\r\n  return (\r\n    <div className={cx(s.gallery, archive.extracted ? s.extracted : null)}>\r\n      <Link to={`/${archive.id}/img/1${location.search}`}>\r\n        <div className={s.coverTitle} title={archive.title}>\r\n          {archive.title}\r\n        </div>\r\n        <ArchiveImage className={s.imageContainer} src={image} title={archive.title} width={archive.image_width} height={archive.image_height} />\r\n        <div className={s.overlay}>\r\n          <div className={s.tags}>\r\n            {tags}\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <div>\r\n        <div className={s.caption}>\r\n          {`${archive.filecount} | ${fileSizeIEC(archive.filesize)} | `}\r\n          <a className={cx(s.link, s.highlight)} href={`${archive.url}`}>SRC</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(ArchiveCover);\r\n","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\n\r\ninterface Props {\r\n  onClick: () => void;\r\n  showContent: boolean;\r\n  alignRight: boolean;\r\n}\r\n\r\nconst commonStyle = {position: 'absolute', top: '0px'};\r\n\r\nconst ToggleButton = ({ onClick, showContent, alignRight }: Props): JSX.Element => {\r\n  let style;\r\n  const showContentIcon = alignRight ? '>' : '<';\r\n  const hideContentIcon = alignRight ? '<' : '>';\r\n  if(showContent) {\r\n    style = Object.assign({}, commonStyle, alignRight ? {left: '-30px'} : {right: '-30px'})\r\n  } else {\r\n    style = Object.assign({}, commonStyle, alignRight ? {right: '0'} : {left: '0'})\r\n  }\r\n  return (<Button onClick={onClick} size=\"sm\" style={style}>{showContent ? showContentIcon : hideContentIcon }</Button>)\r\n};\r\n\r\ninterface PaginationProps {\r\n  onClick: () => void;\r\n  showContent: boolean;\r\n  topSkip: number;\r\n  staticContent: string;\r\n}\r\n\r\nconst commonStylePagination = {position: 'absolute', width: '35px'};\r\n\r\nexport const PaginationToggleButton = ({ onClick, showContent, topSkip, staticContent }: PaginationProps): JSX.Element => {\r\n  let style;\r\n\r\n  if(showContent) {\r\n    style = Object.assign({}, commonStylePagination, {right: '-36px'})\r\n  } else {\r\n    style = Object.assign({}, commonStylePagination, {left: '0'})\r\n  }\r\n\r\n  style.top = `${topSkip}px`\r\n\r\n  return (<Button color=\"info\" onClick={onClick} size=\"sm\" style={style}>{staticContent}</Button>)\r\n};\r\n\r\nexport default ToggleButton;","import React from 'react';\r\nimport cx from 'classnames';\r\nimport ArchiveCover from '../ArchiveCover/ArchiveCover';\r\nimport ToggleButton, {PaginationToggleButton} from '../ToggleButton';\r\nimport s from './SidebarArchives.scss';\r\nimport {ArchiveObjectContainer} from \"../../types\";\r\n\r\n\r\ninterface Props {\r\n  archives: ArchiveObjectContainer;\r\n  displayQueue: boolean;\r\n  toggleQueue: () => void;\r\n  className?: string;\r\n  handleGoToPage: (archivePage: number) => void;\r\n}\r\n\r\nconst buttonSize = 32;\r\n\r\nconst SidebarArchives = ({displayQueue, archives, toggleQueue, className, handleGoToPage}: Props): JSX.Element => (\r\n  <div className={cx(className, displayQueue ? s.archCont : null)}>\r\n    <div className={s.overflowScroll}>\r\n      {\r\n        displayQueue ? archives.objects.map(\r\n          (archive) => (\r\n            <div key={archive.id}>\r\n              <ArchiveCover\r\n                archive={archive}\r\n              />\r\n            </div>\r\n          ),\r\n        ) : null\r\n      }\r\n    </div>\r\n    <div>\r\n      <ToggleButton onClick={toggleQueue} showContent={displayQueue} alignRight={false}/>\r\n      {\r\n        displayQueue ?\r\n          <div>\r\n            <PaginationToggleButton\r\n              onClick={() => handleGoToPage(1)}\r\n              showContent={displayQueue}\r\n              staticContent={'⏮'}\r\n              topSkip={buttonSize}\r\n            />\r\n            <PaginationToggleButton\r\n              onClick={() => handleGoToPage(archives.has_previous ? archives.number - 1 : 1)}\r\n              showContent={displayQueue}\r\n              staticContent={'⏴'}\r\n              topSkip={buttonSize * 2}\r\n            />\r\n            <PaginationToggleButton\r\n              onClick={() => handleGoToPage(archives.has_next ? archives.number + 1 : archives.number)}\r\n              showContent={displayQueue}\r\n              staticContent={'⏵'}\r\n              topSkip={buttonSize * 3}\r\n            />\r\n            <PaginationToggleButton\r\n              onClick={() => handleGoToPage(archives.num_pages)}\r\n              showContent={displayQueue}\r\n              staticContent={'⏭'}\r\n              topSkip={buttonSize * 4}\r\n            />\r\n          </div> : null\r\n      }\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default SidebarArchives;","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport ToggleButton from '../ToggleButton';\r\n\r\ninterface Props {\r\n  displayControls: boolean;\r\n  toggleControls: () => void;\r\n  className?: string;\r\n  controls: {key: string; name: string; description: string; action?: () => void}[];\r\n}\r\n\r\nconst SidebarControls = ({displayControls, toggleControls, className, controls}: Props): JSX.Element => (\r\n  <div className={className}>\r\n    {\r\n      <div>\r\n        {\r\n          displayControls ? controls.map(\r\n            (control) => (\r\n              <div key={control.key}>\r\n                <Button onClick={control.action} color=\"primary\" size=\"sm\" block>{control.description}</Button>\r\n              </div>\r\n            ),\r\n          ) : null\r\n        }\r\n        <ToggleButton onClick={toggleControls} showContent={displayControls} alignRight={true}/>\r\n      </div>\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default SidebarControls;","import React, {useState} from 'react';\r\nimport AsyncSelect from 'react-select/async';\r\nimport s from \"./ArchiveSelect.scss\";\r\nimport {getArchiveSimpleList} from \"../../core/apiCalls\";\r\n\r\ntype HeaderProps = {\r\n  handleQueryChange: (value: string) => void;\r\n}\r\n\r\nconst customStyles = {\r\n  menu: (provided, state) => ({\r\n    ...provided,\r\n    color: state.selectProps.menuColor,\r\n  }),\r\n}\r\n\r\nfunction ArchiveSelect({ handleQueryChange }: HeaderProps): JSX.Element {\r\n  const [, setValue] = useState('');\r\n  const [selectedValue, setSelectedValue] = useState(null);\r\n\r\n  // handle input change event\r\n  const handleInputChange = value => {\r\n    setValue(value);\r\n  };\r\n\r\n  // handle selection\r\n  const handleChange = value => {\r\n    setSelectedValue(value);\r\n    handleQueryChange(value.id);\r\n  }\r\n\r\n  // load options using API call\r\n  const loadOptions = (inputValue) => {\r\n    return getArchiveSimpleList(inputValue);\r\n  };\r\n\r\n  return (\r\n    <div className={s.modalContainer}>\r\n      <AsyncSelect\r\n        cacheOptions\r\n        defaultOptions={[]}\r\n        value={selectedValue}\r\n        getOptionLabel={e => e.title}\r\n        getOptionValue={e => e.id}\r\n        loadOptions={loadOptions}\r\n        onInputChange={handleInputChange}\r\n        onChange={handleChange}\r\n        menuColor='black'\r\n        styles={customStyles}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ArchiveSelect;","import React, { Component } from 'react';\r\nimport {\r\n  Route,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport { HotKeys } from 'react-hotkeys';\r\nimport cx from 'classnames';\r\nimport Archive from './Archive';\r\nimport Help from './Help';\r\nimport SidebarArchives from './SidebarArchives';\r\nimport SidebarControls from './SidebarControls';\r\nimport {getArchivesComponent} from '../core/apiCalls';\r\nimport s from './Home.scss';\r\nimport {ArchiveObjectContainer, GenericHTMLDivElement, LogEntry, Match} from \"../types\";\r\nimport ArchiveSelect from \"./ArchiveSelect\";\r\nimport {History} from 'history';\r\nimport qs from \"qs\";\r\n\r\ninterface Props {\r\n  match: Match;\r\n  location: Location;\r\n  history: History;\r\n}\r\n\r\ninterface State {\r\n  archives: ArchiveObjectContainer | null;\r\n  displayHelp: boolean;\r\n  displayControls: boolean;\r\n  displayQueue: boolean;\r\n  displayCovers: boolean;\r\n  displayNavigators: boolean;\r\n  displayMetadata: boolean;\r\n  displayPreloadInfo: boolean;\r\n  doublePageMode: boolean;\r\n  autoWidth: boolean;\r\n  scale: number;\r\n  preloadCount: number;\r\n  currentContainer: GenericHTMLDivElement | null;\r\n  displayAllPreloaded: boolean;\r\n  showSearchArchiveModal: boolean;\r\n  logs: LogEntry[];\r\n  showAllLogs: boolean;\r\n}\r\n\r\nclass Home extends Component<Props, State> {\r\n\r\n  state = {\r\n    archives: null,\r\n    displayQueue: false,\r\n    displayHelp: false,\r\n    displayControls: false,\r\n    currentArchive: null,\r\n    displayCovers: false,\r\n    displayNavigators: true,\r\n    displayMetadata: false,\r\n    displayPreloadInfo: false,\r\n    doublePageMode: false,\r\n    autoWidth: false,\r\n    scale: 1.0,\r\n    preloadCount: 5,\r\n    currentContainer: null,\r\n    displayAllPreloaded: false,\r\n    showSearchArchiveModal: false,\r\n    logs: [\r\n      {\r\n        id: 0,\r\n        level: 'normal',\r\n        text: 'Image Viewer started',\r\n      },\r\n    ],\r\n    showAllLogs: false,\r\n  };\r\n\r\n  _HotKeysContainer: React.RefObject<HTMLElement>;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this._HotKeysContainer = React.createRef<HTMLElement>();\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('keydown', this.handleKeyDown);\r\n    if(this._HotKeysContainer && this._HotKeysContainer.current) {\r\n      this._HotKeysContainer.current.focus();\r\n    }\r\n    getArchivesComponent(this.props.location.search).then(archives => {\r\n      this.setState({ archives });\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    const oldSearch = prevProps.location.search;\r\n    const newSearch = this.props.location.search;\r\n    if (newSearch !== oldSearch)\r\n      getArchivesComponent(newSearch).then(archives => {\r\n        this.setState({ archives });\r\n      })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  toggleFullSize = () => {\r\n    this.setState({ autoWidth: !this.state.autoWidth });\r\n  };\r\n\r\n  toggleMetadata = () => {\r\n    this.setState({ displayMetadata: !this.state.displayMetadata });\r\n  };\r\n\r\n  toggleDoublePageMode = () => {\r\n    this.setState({ doublePageMode: !this.state.doublePageMode });\r\n  };\r\n\r\n  decreaseScale = () => {\r\n    this.setState({ scale: this.state.scale - 0.1 });\r\n  };\r\n\r\n  increaseScale = () => {\r\n    this.setState({ scale: this.state.scale + 0.1 });\r\n  };\r\n\r\n  resetScale = () => {\r\n    this.setState({ scale: 1.0 });\r\n  };\r\n\r\n  togglePreloadInfo = () => {\r\n    this.setState({ displayPreloadInfo: !this.state.displayPreloadInfo });\r\n  };\r\n\r\n  toggleHelp = () => {\r\n    this.setState({ displayHelp: !this.state.displayHelp });\r\n  };\r\n\r\n  toggleCovers = () => {\r\n    this.setState({ displayCovers: !this.state.displayCovers });\r\n  };\r\n\r\n  toggleQueue = () => {\r\n    this.setState({ displayQueue: !this.state.displayQueue });\r\n  };\r\n\r\n  togglePreloadCount = () => {\r\n    this.setState({ preloadCount: this.state.preloadCount == 5 ? 1 : 5 });\r\n  };\r\n\r\n  toggleControls = () => {\r\n    this.setState({ displayControls: !this.state.displayControls });\r\n  };\r\n\r\n  setCurrentContainer = (container: GenericHTMLDivElement | null) => {\r\n    this.setState({ currentContainer: container });\r\n  };\r\n\r\n  contentFullScreen = () => {\r\n    if (!(document).fullscreenElement &&    // alternative standard method\r\n      !(document).mozFullScreenElement && !(document).webkitFullscreenElement && !(document).msFullscreenElement) {\r\n      const elem = this.state.currentContainer;\r\n      if (elem) {\r\n        if (elem.requestFullscreen) {\r\n          elem.requestFullscreen();\r\n        } else if (elem.msRequestFullscreen) {\r\n          elem.msRequestFullscreen();\r\n        } else if (elem.mozRequestFullScreen) {\r\n          elem.mozRequestFullScreen();\r\n        } else if (elem.webkitRequestFullscreen) {\r\n          elem.webkitRequestFullscreen();\r\n        }\r\n      }\r\n    } else if ((document).exitFullscreen) {\r\n      (document).exitFullscreen();\r\n    } else if ((document).msExitFullscreen) {\r\n      (document).msExitFullscreen();\r\n    } else if ((document).mozCancelFullScreen) {\r\n      (document).mozCancelFullScreen();\r\n    } else if ((document).webkitExitFullscreen) {\r\n      (document).webkitExitFullscreen();\r\n    }\r\n  };\r\n\r\n  toggleAllPreloaded = () => {\r\n    this.setState({ displayAllPreloaded: !this.state.displayAllPreloaded });\r\n  };\r\n\r\n  toggleSearchArchiveModal = () => {\r\n    this.setState({ showSearchArchiveModal: !this.state.showSearchArchiveModal });\r\n  };\r\n\r\n  toggleAllLogs = () => {\r\n    this.setState({ showAllLogs: !this.state.showAllLogs });\r\n  };\r\n\r\n  actions: {key: string; name: string; description: string; input?: string; action?: () => void}[] = [\r\n    {key: 'left, a', name: 'moveLeft', description: 'Move Left'},\r\n    {key: 'right, d, space', name: 'moveRight', description: 'Move Right'},\r\n    {key: 'shift+left', name: 'moveFirst', description: 'Move First'},\r\n    {key: 'shift+right', name: 'moveLast', description: 'Move Last'},\r\n    {key: 'y', name: 'previousQueue', description: 'Previous in queue'},\r\n    {key: 'i', name: 'nextQueue', description: 'Next in queue'},\r\n    {key: 'h', name: 'toggleHelp', description: 'Toggle help'},\r\n    {key: 'p', name: 'toggleQueue', description: 'Toggle queue'},\r\n    {key: 'l', name: 'toggleControls', description: 'Toggle controls'},\r\n    {key: '-', name: 'decreaseScale', description: 'Decrease Scale', action: this.decreaseScale},\r\n    {key: '+', name: 'increaseScale', description: 'Increase Scale', action: this.increaseScale},\r\n    {key: '=', name: 'resetScale', description: 'Reset Scale', action: this.resetScale},\r\n    {key: 'g', name: 'toggleFullSize', description: 'Full Size', action: this.toggleFullSize},\r\n    {key: 'f', name: 'toggleFullScreen', description: 'Full Screen', action: this.contentFullScreen},\r\n    {key: 'o', name: 'toggleAllPreloaded', description: 'Display all preloaded', action: this.toggleAllPreloaded},\r\n    {key: 'z', name: 'toggleSearchArchiveModal', description: 'Archive Search', action: this.toggleSearchArchiveModal},\r\n    {key: 'c', name: 'toggleCovers', description: 'Covers'},\r\n    {key: 't', name: 'toggleDoublePageMode', description: 'Double page mode', action: this.toggleDoublePageMode},\r\n    {key: 'u', name: 'togglePositionModal', description: 'Position Modal'},\r\n    {key: 'j', name: 'toggleMetadata', description: 'Metadata', action: this.toggleMetadata},\r\n    {key: 'shift+p', name: 'togglePreloadCount', description: 'Preload Count', action: this.togglePreloadCount},\r\n    {key: 'shift+j', name: 'togglePreloadInfo', description: 'Preload Info', action: this.togglePreloadInfo},\r\n    {key: 'shift+l', name: 'toggleAllLogs', description: 'Show Logs', action: this.toggleAllLogs}\r\n  ];\r\n\r\n  // Be careful not to clash keys with ImageViewer.\r\n  keyHandlers = {\r\n    'togglePreloadInfo': this.togglePreloadInfo,\r\n    'decreaseScale': this.decreaseScale,\r\n    'increaseScale': this.increaseScale,\r\n    'resetScale': this.resetScale,\r\n    'toggleFullSize': this.toggleFullSize,\r\n    'toggleCovers': this.toggleCovers,\r\n    'toggleDoublePageMode': this.toggleDoublePageMode,\r\n    'toggleHelp': this.toggleHelp,\r\n    'toggleMetadata': this.toggleMetadata,\r\n    'toggleQueue': this.toggleQueue,\r\n    'toggleControls': this.toggleControls,\r\n    'toggleFullScreen': this.contentFullScreen,\r\n    'togglePreloadCount': this.togglePreloadCount,\r\n    'toggleAllPreloaded': this.toggleAllPreloaded,\r\n    'toggleSearchArchiveModal': this.toggleSearchArchiveModal,\r\n    'toggleAllLogs': this.toggleAllLogs\r\n  };\r\n\r\n  handleQueueChange = (archiveId: string, queueChange: number) => {\r\n    if (this.state.archives) {\r\n      const foundIndex = this.state.archives.objects.findIndex((archive) => archive.id === archiveId);\r\n      if (foundIndex > -1 && this.state.archives) {\r\n        const probableNextPosition = foundIndex + queueChange;\r\n        if (probableNextPosition >= 0 && probableNextPosition < this.state.archives.objects.length) {\r\n          this.props.history.push(`/${this.state.archives.objects[probableNextPosition].id}/img/1${this.props.location.search}`);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleForceUpdateArchives = () => {\r\n    const newSearch = this.props.location.search;\r\n    getArchivesComponent(newSearch).then(archives => {\r\n      this.setState({ archives });\r\n    })\r\n  }\r\n\r\n  handleGoToArchive = (archiveId: string) => {\r\n    this.props.history.push(`/${archiveId}/img/1${this.props.location.search}`);\r\n    this.setState({showSearchArchiveModal: false})\r\n  }\r\n\r\n  handleGoToArchiveSearchPage = (archivePage: number) => {\r\n    const currentLocation = this.props.location;\r\n    const currentSearch = qs.parse(this.props.location.search, { ignoreQueryPrefix: true });\r\n    currentSearch.page = String(archivePage);\r\n    this.props.history.push({\r\n      pathname: currentLocation.pathname,\r\n      search: qs.stringify(currentSearch)\r\n    });\r\n  }\r\n\r\n  createLog = (text: string, level: string) => {\r\n    this.setState((state) => {\r\n      return {logs: [{\r\n        id: state.logs.length,\r\n        level,\r\n        text,\r\n      }, ...state.logs]};\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      archives, displayQueue, displayHelp,\r\n      displayCovers, displayNavigators,\r\n      displayMetadata, autoWidth,\r\n      displayPreloadInfo, doublePageMode,\r\n      displayControls, scale, preloadCount,\r\n      displayAllPreloaded, logs, showAllLogs,\r\n      showSearchArchiveModal\r\n    } = this.state;\r\n    const currentLogsFormatted = logs.map(log => (\r\n      <div className={s[`logLevel-${log.level}`]} key={log.id}>{`${log.text}`}</div>\r\n    ));\r\n    const { match } = this.props;\r\n    const SearchArchiveModal = showSearchArchiveModal && (\r\n      <div className={s.modalContainer}>\r\n        <ArchiveSelect handleQueryChange={this.handleGoToArchive} />\r\n      </div>\r\n    );\r\n    return (\r\n      <HotKeys\r\n        className={s.HotKeys}\r\n        innerRef={this._HotKeysContainer}\r\n        keyMap={\r\n          this.actions\r\n            .filter(obj => this.keyHandlers.hasOwnProperty(obj.name))\r\n            .reduce((map, obj) => {map[obj.name] = obj.key; return map;}, {})\r\n        }\r\n        handlers={this.keyHandlers}>\r\n        <div>\r\n          {\r\n            <div className={s.container}>\r\n              {\r\n                archives ?\r\n                  <SidebarArchives\r\n                    className={s.overlayLeft}\r\n                    archives={archives}\r\n                    displayQueue={displayQueue}\r\n                    toggleQueue={this.toggleQueue}\r\n                    handleGoToPage={this.handleGoToArchiveSearchPage}\r\n                  /> : null\r\n              }\r\n              { showAllLogs ? <CustomPopover lines={currentLogsFormatted} /> : null }\r\n              <div style={{ position: 'relative' }}>\r\n                { SearchArchiveModal }\r\n                <Route\r\n                  path={`${match.url}:archiveId/img/:imgId`}\r\n                  render={ props => <Archive\r\n                    handleQueueChange={this.handleQueueChange}\r\n                    handleForceUpdateArchives={this.handleForceUpdateArchives}\r\n                    createLog={this.createLog}\r\n                    displayCovers={displayCovers}\r\n                    displayNavigators={displayNavigators}\r\n                    displayMetadata={displayMetadata}\r\n                    displayPreloadInfo={displayPreloadInfo}\r\n                    displayAllPreloaded={displayAllPreloaded}\r\n                    showSearchArchiveModal={showSearchArchiveModal}\r\n                    doublePageMode={doublePageMode}\r\n                    setCurrentContainer={this.setCurrentContainer}\r\n                    autoWidth={autoWidth}\r\n                    scale={scale}\r\n                    preloadCount={preloadCount}\r\n                    {...props}\r\n                  />}\r\n                />\r\n              </div>\r\n              {\r\n                displayHelp && <div className={cx(s.overlay, s.overlayHelp)}><Help actions={this.actions}/></div>\r\n              }\r\n              <SidebarControls\r\n                className={s.overlayRight}\r\n                displayControls={displayControls}\r\n                toggleControls={this.toggleControls}\r\n                controls={this.actions.filter(x => x.action !== undefined)}\r\n              />\r\n            </div>\r\n          }\r\n        </div>\r\n      </HotKeys>\r\n    );\r\n  }\r\n}\r\n\r\nconst CustomPopover = ({ lines }: {lines: JSX.Element[]}) => (\r\n  <div className={s.popOver}>\r\n    {lines}\r\n  </div>\r\n);\r\n\r\nexport default withRouter(Home);","import React from 'react';\r\nimport {\r\n  BrowserRouter,\r\n  Route,\r\n} from 'react-router-dom'\r\nimport Home from './Home';\r\nimport { config } from '../config';\r\n\r\nconst App = (): JSX.Element => (\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={config.basename}>\r\n      <Route path=\"/\" component={Home}/>\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/theme.scss';\r\nimport './styles/bootstrap-theme.scss';\r\nimport App from './components/App';\r\n// import registerServiceWorker from './registerServiceWorker';\r\n\r\nconst root = document.getElementById('root');\r\n\r\nif (root !== null) {\r\n  ReactDOM.render(<App/>, root);\r\n}\r\n\r\n// registerServiceWorker();\r\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ArchiveCover.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/dist/cjs.js!./Home.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./Help.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/dist/cjs.js!./Archive.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./SidebarArchives.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./NavigationPager.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ArchiveSelect.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ImageViewer.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".NavigationPager__midItem___1cqZa{padding:0.25rem 0.75rem;line-height:1.25;color:#ddd;background-color:#0e1339;border:1px solid #dee2e6}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"midItem\": \"NavigationPager__midItem___1cqZa\"\n};\nmodule.exports = exports;\n"],"sourceRoot":""}