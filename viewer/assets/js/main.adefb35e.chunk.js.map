{"version":3,"sources":["components/ImageViewer/ImageViewer.scss","components/Archive.scss","components/Help/Help.scss","components/ArchiveCover/ArchiveCover.scss","components/ArchiveLine/ArchiveLine.scss","components/SidebarArchives/SidebarArchives.scss","components/Home.scss","components/ArchiveSelect/ArchiveSelect.scss","components/ImageViewer/NavigationPager.tsx","components/ImageViewer/PreloadProgressBars.tsx","config.tsx","core/apiCalls.tsx","core/utils.tsx","components/ImageViewer/ImageViewer.tsx","components/Archive.tsx","components/Help/Help.tsx","components/ArchiveImage/ArchiveImage.tsx","assets/no_cover.png","components/ArchiveCover/ArchiveCover.tsx","components/ArchiveLine/ArchiveLine.tsx","components/ToggleButton.tsx","components/SidebarArchives/SidebarArchives.tsx","components/SidebarControls/SidebarControls.tsx","components/ArchiveSelect/ArchiveSelect.tsx","components/Home.tsx","components/App.tsx","index.tsx","webpack:///./src/components/ArchiveCover/ArchiveCover.scss?fd9c","webpack:///./src/components/ArchiveLine/ArchiveLine.scss?0553","webpack:///./src/components/Home.scss?84b9","webpack:///./src/components/Help/Help.scss?a197","webpack:///./src/components/SidebarArchives/SidebarArchives.scss?0d85","webpack:///./src/components/Archive.scss?8c97","webpack:///./src/components/ImageViewer/NavigationPager.scss?e8b1","webpack:///./src/components/ArchiveSelect/ArchiveSelect.scss?980a","webpack:///./src/components/ImageViewer/ImageViewer.scss?d78c","components/ImageViewer/NavigationPager.scss"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","i","locals","NavigationPager","className","currentPosition","lastPosition","navSelectOptions","handleChange","moveLeft","moveFirst","moveRight","moveLast","Pagination","listClassName","PaginationItem","PaginationLink","onClick","s","midItem","name","value","label","onChange","options","isClearable","blurInputOnSelect","noOptionsMessage","style","verticalAlign","PreloadProgressBars","images","position","left","top","width","Object","keys","map","x","percent","Number","state","Progress","key","color","config","basename","process","REACT_APP_PB_HOST_URL","PandaBackupUrl","REACT_APP_PB_SERVER","PandaBackupKey","REACT_APP_PB_KEY","async","getArchiveExtendedComponent","archiveId","apiText","query","response","fetch","credentials","json","getArchivesComponent","queryString","fileSizeIEC","bytes","exp","Math","log","toFixed","getRelativeImages","current","start","end","length","startRange","endRange","Array","fill","_","preloadOrder","arrays","result","itemIndex","arrayIndex","calculateWidthHeight","height","is_horizontal","horizontal","vertical","startWidth","startHeight","keyMap","previousQueue","nextQueue","togglePositionModal","ImageViewer","Component","constructor","props","super","oEvent","imageTarget","currentTarget","lengthComputable","this","setState","update","id","$merge","loaded","total","imageList","filter","hasOwnProperty","call","forEach","img","fetchImage","window","Image","toString","addEventListener","updateProgress","transferComplete","transferFailed","transferCanceled","src","url","$set","positions","filteredPositions","queryPositions","qs","stringify","indices","getArchiveImages","then","archiveImages","getImagesData","history","replace","archive","location","search","evt","offset","offsetLeft","offsetParent","paddingLeft","match","scrollX","clientX","offsetWidth","imgRight","nextSlide","goToPosition","doublePageMode","navImages","handlePositionChanges","startPosition","option","displayCovers","slider","slickGoTo","showPositionModal","modalInput","focus","blur","image","autoWidth","imgStyle","active","alt","correctWith","handleQueueChange","event","preventDefault","React","createRef","startImage","startIndex","currentArchiveId","positionModal","loading","preloadCount","componentDidMount","getNonCachedImagesUrls","node","scrollIntoView","setCurrentContainer","imgContainer","newId","oldId","newImgId","oldImgId","componentDidUpdate","prevProps","displayAllPreloaded","componentWillUnmount","render","displayNavigators","displayMetadata","displayPreloadInfo","scale","Metadata","cx","overlay","overlayLeft","tag","title","filecount","filesize","href","tags","transform","transformOrigin","renderedImages","renderedImagesPrevious","renderedImagesNext","y","undefined","reverse","getDisplayImage","thumbnails","String","ChangePageModal","modalContainer","inlineBlock","handlePositionModalGoTo","clearable","autoBlur","openOnFocus","onClose","noResultsText","ref","ImagePreLoadIndicator","HotKeys","handlers","keyHandlers","dots","infinite","speed","slidesToShow","slidesToScroll","focusOnSelect","centerMode","centerPadding","c","variableWidth","initialSlide","afterChange","handleSliderChange","handleImgClick","Spinner","overlayTop","hide","withRouter","Archive","runningAction","extracted","handleArchiveAction","action","archiveAction","change","field","createLog","message","handleForceUpdateArchives","catch","error","params","imgId","document","container","Button","onExtractClick","size","disabled","titleContainer","Help","actions","flex","verticalCenter","fullWidth","grow","description","noGrow","ArchiveImage","defaults","maxHeight","maxWidth","border","defaultProps","noCover","gallery","to","coverTitle","imageContainer","image_width","image_height","caption","link","highlight","commonStyle","SideToggleButton","staticContent","marginTop","ToggleButton","showContent","alignRight","showContentIcon","hideContentIcon","assign","right","listView","listViewLength","item","isNaN","styleSideList","SideOptionsBar","topSkip","children","getViewIcon","viewMode","cover","list","getExtractedIcon","extractedOnly","getViewListClass","archCont","archContList","SidebarArchives","displayQueue","archives","toggleQueue","handleGoToPage","handleViewMode","handleToggleExtractedOnly","overflowScroll","objects","getImageElement","has_previous","number","has_next","num_pages","SidebarControls","displayControls","toggleControls","controls","control","block","customStyles","menu","provided","selectProps","menuColor","ArchiveSelect","handleQueryChange","setValue","useState","selectedValue","setSelectedValue","cacheOptions","defaultOptions","getOptionLabel","e","getOptionValue","loadOptions","inputValue","simpleString","getArchiveSimpleList","onInputChange","styles","Home","sideListView","displayHelp","currentArchive","displayExtractedOnly","currentContainer","showSearchArchiveModal","logs","level","text","showAllLogs","parse","ignoreQueryPrefix","currentLocation","currentSearch","pathname","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","elem","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","_HotKeysContainer","decreaseScale","increaseScale","resetScale","toggleFullSize","contentFullScreen","toggleAllPreloaded","toggleSearchArchiveModal","toggleDoublePageMode","toggleMetadata","togglePreloadCount","togglePreloadInfo","toggleAllLogs","toggleCovers","toggleHelp","queueChange","foundIndex","findIndex","probableNextPosition","newSearch","handleSearchParameterChanges","archivePage","page","oldSearch","currentLogsFormatted","SearchArchiveModal","handleGoToArchive","innerRef","obj","reduce","toggleSideListView","toggleExtractedOnly","handleGoToArchiveSearchPage","CustomPopover","lines","path","overlayHelp","overlayRight","popOver","App","StrictMode","component","root","getElementById","ReactDOM","api","content","__esModule","default"],"mappings":"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","file":"static/js/main.adefb35e.chunk.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ImageViewer__inlineBlock___3x7PU{display:inline-block;width:75px}.ImageViewer__overlay___jS0Z0{position:absolute;max-width:100%;height:20px;z-index:10;color:antiquewhite;background-color:rgba(0,0,0,0.5);top:1rem;text-align:center}.ImageViewer__overlayTop___2AckZ{top:0;left:95%;text-align:center}.ImageViewer__overlayRight___2JUTP{left:85%;text-align:center}.ImageViewer__hide___1aBrC{display:none}.ImageViewer__overlayLeft___38-fE{left:1%;text-align:left}.ImageViewer__imgContainer___3vJ9G{position:relative}.ImageViewer__imgContainer___3vJ9G:-ms-fullscreen>.ImageViewer__overlay___jS0Z0{display:inherit;top:2%}.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen>.ImageViewer__overlay___jS0Z0{display:inherit;top:2%}.ImageViewer__imgContainer___3vJ9G:-moz-full-screen>.ImageViewer__overlay___jS0Z0{display:inherit;top:2%}img.ImageViewer__active___1FrCT{max-height:100%;margin-left:auto;margin-right:auto;height:auto;max-width:100%;-webkit-transition-property:-webkit-transform;transition-property:transform, -webkit-transform;-webkit-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-timing-function:ease-out;-o-transition-timing-function:ease-out;transition-timing-function:ease-out}.ImageViewer__imgContainer___3vJ9G:-ms-fullscreen>.ImageViewer__active___1FrCT{width:auto;max-height:100%}.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen{width:100%;height:100%;background-color:black}.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen>.ImageViewer__active___1FrCT{width:auto}.ImageViewer__imgContainer___3vJ9G:-moz-full-screen>.ImageViewer__active___1FrCT{width:auto;max-height:100%}.ImageViewer__modalContainer___1MxZ7{position:absolute;height:100px;width:100%;z-index:75}.ImageViewer__tag___2mHoz{background-color:rgba(0,0,0,0.5);display:table}.ImageViewer__HotKeys___2ICLN:focus{outline:0}.ImageViewer__centerText___1e3gu{text-align:center}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inlineBlock\": \"ImageViewer__inlineBlock___3x7PU\",\n\t\"overlay\": \"ImageViewer__overlay___jS0Z0\",\n\t\"overlayTop\": \"ImageViewer__overlayTop___2AckZ\",\n\t\"overlayRight\": \"ImageViewer__overlayRight___2JUTP\",\n\t\"hide\": \"ImageViewer__hide___1aBrC\",\n\t\"overlayLeft\": \"ImageViewer__overlayLeft___38-fE\",\n\t\"imgContainer\": \"ImageViewer__imgContainer___3vJ9G\",\n\t\"active\": \"ImageViewer__active___1FrCT\",\n\t\"modalContainer\": \"ImageViewer__modalContainer___1MxZ7\",\n\t\"tag\": \"ImageViewer__tag___2mHoz\",\n\t\"HotKeys\": \"ImageViewer__HotKeys___2ICLN\",\n\t\"centerText\": \"ImageViewer__centerText___1e3gu\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Archive__container___3L_dg{margin:0 auto;padding:0;text-align:center}.Archive__titleContainer___3sRdJ{padding-top:50px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"container\": \"Archive__container___3L_dg\",\n\t\"titleContainer\": \"Archive__titleContainer___3sRdJ\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Help__verticalCenter___2hUR-{-ms-flex-align:center;align-items:center}.Help__flex___2JJlN{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;list-style:none;background:rgba(0,0,0,0.9)}.Help__flex___2JJlN>*{-ms-flex:0 1 auto;flex:0 1 auto;max-width:100%;text-align:start}.Help__grow___4mrVI{-ms-flex-positive:1;flex-grow:1;color:#b8b5c0}.Help__noGrow___34bmx{-ms-flex-positive:0;flex-grow:0;color:lightblue}.Help__fullWidth___T7Iuq{width:100%}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"verticalCenter\": \"Help__verticalCenter___2hUR-\",\n\t\"flex\": \"Help__flex___2JJlN\",\n\t\"grow\": \"Help__grow___4mrVI\",\n\t\"noGrow\": \"Help__noGrow___34bmx\",\n\t\"fullWidth\": \"Help__fullWidth___T7Iuq\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ArchiveCover__gallery___2XNvD{display:inline-block;vertical-align:top;text-align:center;background:#001a4c;font-weight:bold;position:relative;width:100%;border:1px solid grey;border-radius:2px}.ArchiveCover__gallery___2XNvD,a:hover{color:inherit;text-decoration:none}.ArchiveCover__coverTitle___3MvdX{max-height:28px;line-height:13px;padding:3px;overflow:hidden;width:100%;height:4em;font-size:0.85em}.ArchiveCover__extracted___2UiVm>a>.ArchiveCover__coverTitle___3MvdX{color:#00d0ff}.ArchiveCover__caption___1jseu{max-height:35px;line-height:15px;padding:3px;overflow:hidden;width:100%;z-index:10;font-size:0.85em;color:#a8a8a4}.ArchiveCover__imageContainer___C1fJ3{display:block;max-width:100%;height:auto;margin-left:auto;margin-right:auto}.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU{background:rgba(0,0,0,0.75);position:absolute;bottom:0;top:0;left:0;right:0;margin-top:28px;margin-bottom:21px;height:auto;width:100%;pointer-events:none;opacity:0;-webkit-transition:opacity 0.125s ease;-o-transition:opacity 0.125s ease;transition:opacity 0.125s ease}.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno{width:100%;height:100%;font-size:14px;font-weight:300;line-height:1.05;opacity:0;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;-webkit-transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;-o-transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s}.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno .ArchiveCover__tag___jOY9w{width:100%;cursor:pointer}.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU{opacity:1;pointer-events:all}.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno{opacity:1}.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU .ArchiveCover__ListToggle___3cs9R{opacity:1}.ArchiveCover__queryTag___3IBHh{color:lightgreen}.ArchiveCover__smallButton___2ZAiq{margin:2px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"gallery\": \"ArchiveCover__gallery___2XNvD\",\n\t\"coverTitle\": \"ArchiveCover__coverTitle___3MvdX\",\n\t\"extracted\": \"ArchiveCover__extracted___2UiVm\",\n\t\"caption\": \"ArchiveCover__caption___1jseu\",\n\t\"imageContainer\": \"ArchiveCover__imageContainer___C1fJ3\",\n\t\"overlay\": \"ArchiveCover__overlay___1wIAU\",\n\t\"tags\": \"ArchiveCover__tags___GLbno\",\n\t\"tag\": \"ArchiveCover__tag___jOY9w\",\n\t\"ListToggle\": \"ArchiveCover__ListToggle___3cs9R\",\n\t\"queryTag\": \"ArchiveCover__queryTag___3IBHh\",\n\t\"smallButton\": \"ArchiveCover__smallButton___2ZAiq\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ArchiveLine__gallery___1ihF_{display:inline-block;vertical-align:top;text-align:center;background:#001a4c;font-weight:bold;position:relative;width:100%;border:1px solid grey;border-radius:2px}.ArchiveLine__gallery___1ihF_,a:hover{color:inherit;text-decoration:none}.ArchiveLine__coverTitle___4OePu{max-height:28px;line-height:13px;padding:3px;overflow:hidden;width:100%;height:4em;font-size:0.85em}.ArchiveLine__extracted___1prjO>a>.ArchiveLine__coverTitle___4OePu{color:#00d0ff}.ArchiveLine__caption___LVqGn{max-height:35px;line-height:15px;padding:3px;overflow:hidden;width:100%;z-index:10;font-size:0.85em;color:#a8a8a4}.ArchiveLine__imageContainer___8G7h4{display:block;max-width:100%;height:auto;margin-left:auto;margin-right:auto}.ArchiveLine__gallery___1ihF_ .ArchiveLine__overlay___mQ4wW{background:rgba(0,0,0,0.75);position:absolute;bottom:0;top:0;left:0;right:0;margin-top:28px;margin-bottom:21px;height:auto;width:100%;pointer-events:none;opacity:0;-webkit-transition:opacity 0.125s ease;-o-transition:opacity 0.125s ease;transition:opacity 0.125s ease}.ArchiveLine__gallery___1ihF_ .ArchiveLine__overlay___mQ4wW .ArchiveLine__tags___1Swr8{width:100%;height:100%;font-size:14px;font-weight:300;line-height:1.05;opacity:0;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;-webkit-transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;-o-transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s}.ArchiveLine__gallery___1ihF_ .ArchiveLine__overlay___mQ4wW .ArchiveLine__tags___1Swr8 .ArchiveLine__tag___1vg1Y{width:100%;cursor:pointer}.ArchiveLine__gallery___1ihF_:hover .ArchiveLine__overlay___mQ4wW{opacity:1;pointer-events:all}.ArchiveLine__gallery___1ihF_:hover .ArchiveLine__overlay___mQ4wW .ArchiveLine__tags___1Swr8{opacity:1}.ArchiveLine__gallery___1ihF_:hover .ArchiveLine__overlay___mQ4wW .ArchiveLine__ListToggle___2s7la{opacity:1}.ArchiveLine__queryTag___2yMwG{color:lightgreen}.ArchiveLine__smallButton___1SKCA{margin:2px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"gallery\": \"ArchiveLine__gallery___1ihF_\",\n\t\"coverTitle\": \"ArchiveLine__coverTitle___4OePu\",\n\t\"extracted\": \"ArchiveLine__extracted___1prjO\",\n\t\"caption\": \"ArchiveLine__caption___LVqGn\",\n\t\"imageContainer\": \"ArchiveLine__imageContainer___8G7h4\",\n\t\"overlay\": \"ArchiveLine__overlay___mQ4wW\",\n\t\"tags\": \"ArchiveLine__tags___1Swr8\",\n\t\"tag\": \"ArchiveLine__tag___1vg1Y\",\n\t\"ListToggle\": \"ArchiveLine__ListToggle___2s7la\",\n\t\"queryTag\": \"ArchiveLine__queryTag___2yMwG\",\n\t\"smallButton\": \"ArchiveLine__smallButton___1SKCA\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media screen and (min-width: 1456px){.SidebarArchives__archCont___30IUp{width:12%}}@media screen and (max-width: 1455px){.SidebarArchives__archCont___30IUp{width:19%}}@media screen and (max-width: 1019px){.SidebarArchives__archCont___30IUp{width:24%}}@media screen and (max-width: 814px){.SidebarArchives__archCont___30IUp{width:32%}}@media screen and (max-width: 542px){.SidebarArchives__archCont___30IUp{width:49%}}@media screen and (max-width: 300px){.SidebarArchives__archCont___30IUp{width:100%}}@media screen and (min-width: 1456px){.SidebarArchives__archContList___23u7t{width:20%}}@media screen and (max-width: 1455px){.SidebarArchives__archContList___23u7t{width:27%}}@media screen and (max-width: 1019px){.SidebarArchives__archContList___23u7t{width:32%}}@media screen and (max-width: 814px){.SidebarArchives__archContList___23u7t{width:40%}}@media screen and (max-width: 542px){.SidebarArchives__archContList___23u7t{width:57%}}@media screen and (max-width: 300px){.SidebarArchives__archContList___23u7t{width:100%}}.SidebarArchives__overflowScroll___A0YoJ{overflow-y:scroll;height:100vh;scrollbar-width:none;-ms-overflow-style:none}.SidebarArchives__overflowScroll___A0YoJ::-webkit-scrollbar{width:0;height:0}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"archCont\": \"SidebarArchives__archCont___30IUp\",\n\t\"archContList\": \"SidebarArchives__archContList___23u7t\",\n\t\"overflowScroll\": \"SidebarArchives__overflowScroll___A0YoJ\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Home__inlineBlock___33Dcx{display:inline-block;width:55px}.Home__container___KkeO7{position:relative}.Home__overlay___1L6jf{position:absolute;max-width:100%;height:20px;z-index:10;color:antiquewhite;background-color:rgba(0,0,0,0.5);top:1rem;text-align:center}.Home__overlayTop___1g6qW{top:0;left:95%;text-align:center}.Home__overlayHelp___1USgm{position:absolute;left:85%}.Home__overlayRight___AiZmH{position:absolute;right:1%;top:0;z-index:5}.Home__overlayLeft___JWQEH{position:absolute;left:1%;z-index:5}.Home__overlayLogs___MgyWx{position:absolute;right:15%;z-index:5}.Home__imgContainer___3M7tW{position:relative}.Home__imgContainer___3M7tW:-ms-fullscreen>.Home__overlay___1L6jf{display:inherit;top:2%}.Home__imgContainer___3M7tW:-webkit-full-screen>.Home__overlay___1L6jf{display:inherit;top:2%}.Home__imgContainer___3M7tW:-moz-full-screen>.Home__overlay___1L6jf{display:inherit;top:2%}img.Home__active___2X6FD{max-height:100%;margin-left:auto;margin-right:auto;height:auto;max-width:100%}.Home__imgContainer___3M7tW:-ms-fullscreen>.Home__active___2X6FD{width:auto;max-height:100%}.Home__imgContainer___3M7tW:-webkit-full-screen{width:100%;max-height:100%;background-color:black}.Home__imgContainer___3M7tW:-webkit-full-screen>.Home__active___2X6FD{max-height:100%}.Home__imgContainer___3M7tW:-moz-full-screen>.Home__active___2X6FD{width:auto;max-height:100%}.Home__modalContainer___DzRT5{position:absolute;height:100px;width:100%;top:6%;z-index:80}.Home__tag___30qLH{background-color:rgba(0,0,0,0.5);display:table}.Home__HotKeys___3qY1w:focus{outline:0}.Home__popOver___2VSiP{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;padding:5px;background:#454545;color:white;border-radius:0.3rem;font-size:0.9em;position:absolute;left:15%}.Home__logLevel-important___lcdrk{color:#93e6fc}.Home__logLevel-normal___10jOk{color:white}.Home__logLevel-error___1opE-{color:#bd2130}.Home__logLevel-warning___1Q5jK{color:#e0a800}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inlineBlock\": \"Home__inlineBlock___33Dcx\",\n\t\"container\": \"Home__container___KkeO7\",\n\t\"overlay\": \"Home__overlay___1L6jf\",\n\t\"overlayTop\": \"Home__overlayTop___1g6qW\",\n\t\"overlayHelp\": \"Home__overlayHelp___1USgm\",\n\t\"overlayRight\": \"Home__overlayRight___AiZmH\",\n\t\"overlayLeft\": \"Home__overlayLeft___JWQEH\",\n\t\"overlayLogs\": \"Home__overlayLogs___MgyWx\",\n\t\"imgContainer\": \"Home__imgContainer___3M7tW\",\n\t\"active\": \"Home__active___2X6FD\",\n\t\"modalContainer\": \"Home__modalContainer___DzRT5\",\n\t\"tag\": \"Home__tag___30qLH\",\n\t\"HotKeys\": \"Home__HotKeys___3qY1w\",\n\t\"popOver\": \"Home__popOver___2VSiP\",\n\t\"logLevel-important\": \"Home__logLevel-important___lcdrk\",\n\t\"logLevel-normal\": \"Home__logLevel-normal___10jOk\",\n\t\"logLevel-error\": \"Home__logLevel-error___1opE-\",\n\t\"logLevel-warning\": \"Home__logLevel-warning___1Q5jK\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ArchiveSelect__modalContainer___3hKCa{position:relative;height:100px;width:900px;margin-left:auto;margin-right:auto}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"modalContainer\": \"ArchiveSelect__modalContainer___3hKCa\"\n};\nmodule.exports = exports;\n","import React from 'react';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport Select from 'react-select';\nimport s from './NavigationPager.scss';\nimport { OptionType } from 'react-select/src/types'\n\ninterface Props {\n  className: string;\n  currentPosition: number;\n  lastPosition: number;\n  navSelectOptions: { label: number; value: number }[];\n  handleChange: (option: OptionType) => void;\n  moveLeft: () => void;\n  moveFirst: () => void;\n  moveRight: () => void;\n  moveLast: () => void;\n}\n\nconst NavigationPager = ({ className, currentPosition, lastPosition, navSelectOptions, handleChange, moveLeft, moveFirst, moveRight, moveLast }: Props): JSX.Element => (\n  <Pagination listClassName={\"justify-content-center my-0\"}>\n    <PaginationItem>\n      <PaginationLink onClick={moveFirst}>\n        &larr;&larr;\n      </PaginationLink>\n    </PaginationItem>\n    <PaginationItem>\n      <PaginationLink onClick={moveLeft}>\n        &larr;\n      </PaginationLink>\n    </PaginationItem>\n    <PaginationItem>\n      <div className={s.midItem}>\n        <Select\n          className={className}\n          name=\"select-page\"\n          value={{value: currentPosition, label: currentPosition}}\n          onChange={handleChange}\n          options={navSelectOptions}\n          isClearable={false}\n          blurInputOnSelect\n          noOptionsMessage={() => `No valid option`}\n        />\n        <span style={{ verticalAlign: 'super' }}>{ ` of ${lastPosition} ` }</span>\n      </div>\n    </PaginationItem>\n    <PaginationItem>\n      <PaginationLink onClick={moveRight}>\n        &rarr;\n      </PaginationLink>\n    </PaginationItem>\n    <PaginationItem>\n      <PaginationLink onClick={moveLast}>\n        &rarr;&rarr;\n      </PaginationLink>\n    </PaginationItem>\n  </Pagination>\n);\n\nexport default NavigationPager;\n","import React from 'react';\nimport { Progress } from 'reactstrap';\nimport {ImgCacheElement} from \"../../types\";\n\ninterface Props {\n  images: {\n    [imgId: number]: ImgCacheElement;\n  };\n}\n\nconst PreloadProgressBars = ({ images }: Props): JSX.Element => (\n  <div style={{position: 'absolute', left: '85%', top: '16%', width: '15%'}}>\n    {\n      Object.keys(images).map(x => {\n        const percent = images[Number(x)].percent;\n        switch (images[Number(x)].state) {\n          case 'progress':\n            return <Progress key={x} color={percent < 0 ? \"warning\" : \"success\"} value={percent}\n            >{`${x}: ${percent}%`}</Progress>;\n          case 'load':\n            return <Progress key={x} color=\"info\" value={percent}>{`${x}: ${percent}%`}</Progress>;\n          case 'error':\n            return <Progress key={x} color=\"danger\" value={percent}>{`${x}: ${percent}%`}</Progress>;\n          case 'abort':\n            return <Progress key={x} color=\"danger\" value={percent}>{`${x}: ${percent}%`}</Progress>;\n          default:\n            return <Progress key={x} color=\"info\" value={percent}>{`${x}: ${percent}%`}</Progress>;\n        }\n      })\n    }\n  </div>\n);\n\nexport default PreloadProgressBars;\n","export const config = {\n  // Panda Backup parameters. Change them to run self-hosted.\n  basename: process.env.REACT_APP_PB_HOST_URL || '/new-image-viewer',\n  PandaBackupUrl: process.env.REACT_APP_PB_SERVER || '',\n  PandaBackupKey: process.env.REACT_APP_PB_KEY || '',\n\n};\n","import qs from 'qs';\nimport { config } from '../config';\nimport {\n  ArchiveActionResult,\n  ArchiveExtendedInfo,\n  ArchiveObjectContainer,\n  ArchiveSimpleInfo,\n  ImgCacheElement\n} from \"../types\";\n\nexport async function getArchiveImages(archiveId: string, positions: number[]): Promise<ImgCacheElement[]> {\n  const queryPositions = qs.stringify({ i: positions }, { indices: false });\n  let apiText;\n  if (config.PandaBackupKey === '') {\n    apiText = ''\n  } else {\n    apiText = `&api_key=${config.PandaBackupKey}`;\n  }\n  const query = `${config.PandaBackupUrl}/r-api/archive/${archiveId}/image_list/?${queryPositions}${apiText}`;\n  const response = await fetch(query,\n    {\n      credentials: 'include',\n    });\n  return await response.json();\n}\n\nexport async function getArchiveExtendedComponent(archiveId: string, position: number): Promise<ArchiveExtendedInfo> {\n  const correctedPosition = position || 1;\n  let apiText;\n  if (config.PandaBackupKey === '') {\n    apiText = ''\n  } else {\n    apiText = `&api_key=${config.PandaBackupKey}`;\n  }\n  const query = `${config.PandaBackupUrl}/r-api/archive/${archiveId}/?position=${correctedPosition}${apiText}`;\n  const response = await fetch(query,\n    {\n      credentials: 'include',\n    });\n  return await response.json();\n}\n\nexport async function getArchiveSimpleList(simpleString: string): Promise<ArchiveSimpleInfo[]> {\n  // const apiText = `&api_key=${config.PandaBackupKey}`;\n  // const query = `${config.PandaBackupUrl}/r-api/archives_simple/?q=${simpleString}${apiText}`;\n  // const query = `${config.PandaBackupUrl}/autocomplete-view/?q=${simpleString}`;\n  const query = `${config.PandaBackupUrl}/title-suggest/?q=${simpleString}`;\n  const response = await fetch(query,\n    {\n      credentials: 'include',\n    });\n  return await response.json();\n}\n\nexport async function getArchivesComponent(queryString: string): Promise<ArchiveObjectContainer> {\n  let apiText;\n  if (queryString === '') {\n    apiText = `?api_key=${config.PandaBackupKey}`;\n  } else {\n    apiText = `&api_key=${config.PandaBackupKey}`;\n  }\n  const query = `${config.PandaBackupUrl}/r-api/archives/${queryString}${apiText}`;\n  const response = await fetch(query,\n    {\n      credentials: 'include',\n    });\n  return await response.json();\n}\n\nexport async function archiveAction(archiveId: string, action: string): Promise<ArchiveActionResult> {\n  let apiText;\n  if (config.PandaBackupKey === '') {\n    apiText = ''\n  } else {\n    apiText = `&api_key=${config.PandaBackupKey}`;\n  }\n  const query = `${config.PandaBackupUrl}/r-api/archive/${archiveId}/${action}/?${apiText}`;\n  const response = await fetch(query,\n    {\n      credentials: 'include',\n    });\n  return await response.json();\n}\n","/* eslint no-bitwise: [\"error\", { \"int32Hint\": true }] */\n\nexport function fileSizeIEC(bytes: number): string {\n  const exp = Math.log(bytes) / Math.log(1024) | 0;\n  const result = (bytes / (1024 ** exp)).toFixed(2);\n\n  return `${result} ${(exp === 0 ? 'bytes' : `${'KMGTPEZY'[exp - 1]}B`)}`;\n}\n// KiB,MiB,GiB,TiB,PiB,EiB,ZiB,YiB\n\nconst scopePriorities = ['language', 'artist', 'group', 'parody', 'character', 'female', 'male', 'mixed', 'other', 'misc'];\n\ntype sortedTagListType = [\n  string,\n  string[]\n]\n\nexport function sortTags(tagList: string[]): sortedTagListType[] {\n  const prioritizedTaglist = [];\n\n  scopePriorities.forEach((x) => {\n    const matchedTags: string[] = tagList.filter(y => y.startsWith(`${x}:`)).sort();\n    if (matchedTags.length > 0) {\n      prioritizedTaglist.push([x, matchedTags]);\n    }\n  });\n  const remainingTags: string[] = tagList.filter(y => !scopePriorities.find(z => y.startsWith(`${z}:`))).sort();\n  if (remainingTags.length > 0) {\n    prioritizedTaglist.push(['', remainingTags]);\n  }\n\n  return prioritizedTaglist;\n}\n","/* eslint-disable max-len */\nimport React, {Component} from 'react';\nimport { Spinner } from 'reactstrap';\nimport { GlobalHotKeys } from 'react-hotkeys';\nimport Slider from 'react-slick';\nimport Select from 'react-select';\nimport { withRouter } from 'react-router-dom';\nimport update from 'immutability-helper';\nimport cx from 'classnames';\nimport NavigationPager from './NavigationPager';\nimport PreloadProgressBars from './PreloadProgressBars';\nimport s from './ImageViewer.scss';\nimport {getArchiveImages} from \"../../core/apiCalls\";\nimport { OptionType } from 'react-select/src/types'\nimport {\n  ArchiveExtendedInfo,\n  GenericHTMLDivElement,\n  ImgCacheElement,\n} from \"../../types\";\nimport {fileSizeIEC} from \"../../core/utils\";\n\nfunction imgRight(evt) {\n  const img = evt.currentTarget;\n  let left = 0;\n  let offset = img;\n  while (offset) {\n    left += offset.offsetLeft;\n    offset = offset.offsetParent;\n  }\n  if (img.style.paddingLeft) left += Number(img.style.paddingLeft.match(/\\d+/)[0]);\n  left -= window.scrollX;\n  const x = evt.clientX - left;\n  const w = img.width || img.offsetWidth;\n  return x / w > 0.5;\n}\n\nfunction getRelativeImages(current: number, start: number, end: number, length: number): [number[], number[]] {\n  let startRange = current - length;\n  let endRange = current + length;\n  if (startRange < start) {\n    startRange = start;\n  }\n  if (endRange > end) {\n    endRange = end;\n  }\n  return [\n    new Array(current - startRange).fill(0).map((_, i) => current - i - 1),\n    new Array(endRange - current).fill(0).map((_, i) => i + current + 1),\n  ];\n}\n\nfunction preloadOrder(current: number, arrays: [number[], number[]]) {\n\n  const length = arrays[0].length + arrays[1].length;\n  const result = [];\n\n  for (let itemIndex = 0; itemIndex < length; itemIndex++) {\n    for (let arrayIndex = 0; arrayIndex < 2; arrayIndex++) {\n      if (arrays[arrayIndex].length - 1 < itemIndex) {\n        continue;\n      }\n      result.push(arrays[arrayIndex][itemIndex]);\n    }\n  }\n\n  return [current, ...result]\n}\n\nfunction calculateWidthHeight(width: number, height: number, is_horizontal: boolean, horizontal: number, vertical: number): [number, number] {\n  let startWidth: number;\n  let startHeight: number;\n  if (is_horizontal) {\n    if (width >= horizontal) {\n      startWidth = horizontal;\n      startHeight = (startWidth * height) / width;\n    } else {\n      startWidth = width;\n      startHeight = height;\n    }\n  } else if (width >= vertical) {\n    startWidth = vertical;\n    startHeight = (startWidth * height) / width;\n  } else {\n    startWidth = width;\n    startHeight = height;\n  }\n  return [startWidth, startHeight];\n}\n\ninterface Props {\n  archive: ArchiveExtendedInfo;\n  startIndex: number;\n  startPosition: number;\n  location: Location;\n  history: {\n    push: (url: string) => void;\n    replace: (url: string) => void;\n  };\n  handleQueueChange: (archiveId: string, queueChange: number) => void;\n  displayCovers: boolean;\n  displayNavigators: boolean;\n  displayMetadata: boolean;\n  displayPreloadInfo: boolean;\n  doublePageMode: boolean;\n  setCurrentContainer: (container: GenericHTMLDivElement | null) => void;\n  autoWidth: boolean;\n  scale: number;\n  preloadCount: number;\n  displayAllPreloaded: boolean;\n}\n\ninterface State {\n  currentArchiveId: string;\n  currentPosition: number;\n  positionModal: number;\n  horizontal: number;\n  vertical: number;\n  showPositionModal: boolean;\n  loading: boolean;\n  navImages: [number[], number[]];\n  images: {\n    [imgId: number]: ImgCacheElement;\n  };\n}\n\nconst keyMap = {\n  moveLeft: ['left', 'a'],\n  moveRight: ['right', 'd'],\n  moveFirst: 'shift+left',\n  moveLast: 'shift+right',\n  previousQueue: 'y',\n  nextQueue: 'i',\n  togglePositionModal: 'u'\n};\n\nclass ImageViewer extends Component<Props, State> {\n\n  node: HTMLDivElement | null;\n  imgContainer: GenericHTMLDivElement | null;\n  modalInput: { current: null | Select };\n  slider: Slider;\n\n  constructor(props: Props) {\n    super(props);\n    this.modalInput = React.createRef();\n\n    const images = {};\n\n    if(props.archive.startImage) {\n      const [startWidth, startHeight] = calculateWidthHeight(\n        props.archive.startImage.width,\n        props.archive.startImage.height,\n        props.archive.startImage.is_horizontal,\n        1500,\n        900,\n      );\n      if(props.archive.startImage) {\n        images[props.startIndex] = {\n          position: props.startIndex,\n          url: props.archive.startImage.url,\n          width: startWidth,\n          height: startHeight,\n          is_horizontal: props.archive.startImage.is_horizontal,\n          state: 'load',\n          percent: 100,\n        };\n      }\n    }\n\n    this.state = {\n      currentArchiveId: props.archive.id,\n      currentPosition: props.startIndex,\n      positionModal: props.startIndex,\n      horizontal: 1500,\n      vertical: 900,\n      showPositionModal: false,\n      loading: true,\n      navImages: getRelativeImages(props.startIndex, props.startPosition, props.archive.lastPosition, props.preloadCount),\n      images: images,\n    };\n\n  }\n\n  componentDidMount() {\n    // window.addEventListener('keydown', this.handleKeyDown);\n    // updateByIndexIfQueued(this.context.dispatcher, this.props.archive.id, this.state.currentPosition);\n    this.getNonCachedImagesUrls(this.props.archive.id, preloadOrder(this.state.currentPosition, [this.state.navImages[1], this.state.navImages[0]]));\n    if (this.node)\n      this.node.scrollIntoView();\n    if (this.props.displayCovers) {\n      this.slider.slickGoTo(this.state.currentPosition - 1);\n    }\n    this.props.setCurrentContainer(this.imgContainer);\n  }\n\n  static getDerivedStateFromProps(props: Props, state: State) {\n    const newId = props.archive.id;\n    const oldId = state.currentArchiveId;\n    const newImgId = props.startIndex;\n    const oldImgId = state.currentPosition;\n    if (newId !== oldId) {\n      const images = {};\n      if(props.archive.startImage) {\n        const [startWidth, startHeight] = calculateWidthHeight(\n          props.archive.startImage.width,\n          props.archive.startImage.height,\n          props.archive.startImage.is_horizontal,\n          state.horizontal,\n          state.vertical,\n        );\n        if(props.archive.startImage) {\n          images[props.startIndex] = {\n            position: props.startIndex,\n            url: props.archive.startImage.url,\n            width: startWidth,\n            height: startHeight,\n            is_horizontal: props.archive.startImage.is_horizontal,\n            state: 'load',\n            percent: 100,\n          };\n        }\n      }\n\n      return {\n        currentArchiveId: newId,\n        currentPosition: props.startIndex,\n        positionModal: props.startIndex,\n        loading: true,\n        navImages: getRelativeImages(props.startIndex, props.startPosition, props.archive.lastPosition, props.preloadCount),\n        images: images,\n      };\n    } else if (newImgId !== oldImgId) {\n      return {\n        loading: true,\n        navImages: getRelativeImages(newImgId, props.startPosition, props.archive.lastPosition, props.preloadCount),\n        currentPosition: newImgId,\n        positionModal: newImgId,\n      };\n    }\n\n    return null;\n\n  }\n\n  componentDidUpdate(prevProps: Props){\n    const newId = this.props.archive.id;\n    const oldId = prevProps.archive.id;\n    const newImgId = this.props.startIndex;\n    const oldImgId = prevProps.startIndex;\n    if (newId !== oldId || newImgId !== oldImgId) {\n      // updateByIndexIfQueued(this.context.dispatcher, newId, this.state.currentPosition);\n      this.getNonCachedImagesUrls(newId, preloadOrder(this.state.currentPosition, [this.state.navImages[1], this.state.navImages[0]]));\n      if(this.imgContainer)\n        this.imgContainer.scrollIntoView();\n    }\n    else if(this.props.displayAllPreloaded != prevProps.displayAllPreloaded) {\n      if(this.imgContainer)\n        this.imgContainer.scrollIntoView();\n    }\n    if (this.props.displayCovers) {\n      this.slider.slickGoTo(this.state.currentPosition - 1);\n    }\n  }\n\n  componentWillUnmount() {\n    // window.removeEventListener('keydown', this.handleKeyDown);\n    this.props.setCurrentContainer(null);\n  }\n\n  updateProgress = (oEvent: ProgressEvent<EventTarget>) => {\n    const imageTarget = oEvent.currentTarget as HTMLImageElement\n    if (oEvent.lengthComputable) {\n      this.setState({\n        images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\n          percent: oEvent.loaded / oEvent.total,\n        }}})\n      });\n    } else {\n      this.setState({\n        images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\n          percent: -1,\n        }}})\n      });\n    }\n  }\n\n  transferComplete = (oEvent: ProgressEvent<EventTarget>) => {\n    const imageTarget = oEvent.currentTarget as HTMLImageElement\n    this.setState({\n      images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\n        percent: 100,\n        state: 'load',\n      }}})\n    });\n  };\n\n  transferFailed = (oEvent: ProgressEvent<EventTarget>) => {\n    const imageTarget = oEvent.currentTarget as HTMLImageElement\n    this.setState({\n      images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\n        state: 'error',\n      }}})\n    });\n  };\n\n  transferCanceled = (oEvent: ProgressEvent<EventTarget>) => {\n    const imageTarget = oEvent.currentTarget as HTMLImageElement\n    this.setState({\n      images: update(this.state.images, {[Number(imageTarget.id)]: {$merge: {\n        state: 'abort',\n      }}})\n    });\n  };\n\n  getImagesData  = (imageList: ImgCacheElement[]) => {\n    imageList.filter(x => !{}.hasOwnProperty.call(this.state.images, x.position)).forEach((img) => {\n      const fetchImage = new window.Image();\n      fetchImage.id = img.position.toString();\n      fetchImage.addEventListener(\"progress\", this.updateProgress);\n      fetchImage.addEventListener(\"load\", this.transferComplete);\n      fetchImage.addEventListener(\"error\", this.transferFailed);\n      fetchImage.addEventListener(\"abort\", this.transferCanceled);\n      fetchImage.src = img.url;\n      // const idNum = Number(id);\n      this.setState({\n        images: update(this.state.images, {[img.position]: {$set: {\n          position: img.position,\n          url: img.url,\n          width: img.width,\n          height: img.height,\n          is_horizontal: img.is_horizontal,\n          state: 'progress',\n          percent: 0,\n        }}})\n      });\n    });\n  };\n\n\n  getNonCachedImagesUrls = (archiveId, positions) => {\n    const filteredPositions = positions.filter(x => !{}.hasOwnProperty.call(this.state.images, x));\n    if (filteredPositions.length !== 0) {\n      getArchiveImages(archiveId, filteredPositions)\n        .then(archiveImages => this.getImagesData(archiveImages))\n    }\n  };\n\n  goToPosition = (position: number) => {\n    if(position !== this.state.currentPosition) {\n      this.props.history.replace(`/${this.props.archive.id}/img/${position}${this.props.location.search}`);\n    }\n  };\n\n  handleImgClick = (evt) => {\n    imgRight(evt) ? this.moveRight() : this.moveLeft();\n  };\n\n  handleSliderChange = (nextSlide: number) => {\n    this.goToPosition(nextSlide + 1);\n  };\n\n  moveLeft = () => {\n    if (this.props.doublePageMode) {\n      if (this.state.navImages[0].length > 1) {\n        this.handlePositionChanges(this.state.navImages[0][1]);\n        return;\n      }\n    }\n    if (this.state.navImages[0].length > 0) {\n      this.handlePositionChanges(this.state.navImages[0][0]);\n    }\n  };\n\n  moveRight = () => {\n    if (this.props.doublePageMode) {\n      if (this.state.navImages[1].length > 1) {\n        this.handlePositionChanges(this.state.navImages[1][1]);\n        return;\n      }\n    }\n    if (this.state.navImages[1].length > 0) {\n      this.handlePositionChanges(this.state.navImages[1][0]);\n    }\n  };\n\n  moveFirst = () => {\n    this.handlePositionChanges(this.props.startPosition);\n  };\n\n  moveLast = () => {\n    this.handlePositionChanges(this.props.archive.lastPosition);\n  };\n\n  handlePositionModalGoTo = (option: OptionType) => {\n    this.handlePositionChanges(option.value);\n  };\n\n  handlePositionChanges = (position) => {\n    this.goToPosition(position);\n    if (this.props.displayCovers) {\n      this.slider.slickGoTo(position - 1);\n    }\n  };\n\n  togglePositionModal = () => {\n    this.setState({ showPositionModal: !this.state.showPositionModal });\n    if (this.state.showPositionModal && this.modalInput && this.modalInput.current) {\n      this.modalInput.current.focus();\n    }\n    if (!this.state.showPositionModal && this.modalInput && this.modalInput.current) {\n      this.modalInput.current.blur();\n    }\n  };\n\n  correctWith = (image: ImgCacheElement) => {\n    if (image.is_horizontal) {\n      if (image.width >= this.state.horizontal) {\n        return this.state.horizontal;\n      }\n      return image.width;\n    }\n    if (image.width >= this.state.vertical) {\n      return this.state.vertical;\n    }\n    return image.width;\n  };\n\n  getDisplayImage = (image: ImgCacheElement, autoWidth: boolean, imgStyle: {transform: string; transformOrigin: string}) => (\n    <img\n      key={image.url}\n      className={s.active}\n      src={image.url}\n      alt=\"\"\n      width={autoWidth ? 'auto' : this.correctWith(image)}\n      height={image.height}\n      style={imgStyle}\n    />\n  );\n\n  keyHandlers = {\n    'moveLeft': this.moveLeft,\n    'moveRight': this.moveRight,\n    'moveFirst': this.moveFirst,\n    'moveLast': this.moveLast,\n    'previousQueue': () => this.props.handleQueueChange(this.props.archive.id, -1),\n    'nextQueue': () => this.props.handleQueueChange(this.props.archive.id, 1),\n    'togglePositionModal': (event: KeyboardEvent) => {this.togglePositionModal(); event.preventDefault()},\n  };\n\n  render() {\n    const {\n      showPositionModal,\n      currentPosition, images,\n      navImages\n    } = this.state;\n    const {\n      displayCovers, displayNavigators,\n      displayMetadata, autoWidth,\n      displayPreloadInfo, doublePageMode,\n      displayAllPreloaded, scale\n    } = this.props;\n    const { lastPosition } = this.props.archive;\n\n    const Metadata = displayMetadata && (\n      <div className={cx(s.overlay, s.overlayLeft)}>\n        <h6 className={s.tag}>{this.props.archive.title}</h6>\n        <div className={s.tag}>\n          {`Pages: ${this.props.archive.filecount} | Size: ${fileSizeIEC(this.props.archive.filesize)} | `}\n          <a href={`${this.props.archive.url}`}>Source</a>\n        </div>\n        {\n          this.props.archive.tags.map(tag => (\n            <div className={s.tag} key={tag}>{`${tag}`}</div>\n          ))\n        }\n      </div>\n    );\n    const imgStyle = {\n      // height: 'auto',\n      // maxWidth: '100%',\n      transform: `scaleX(${scale}) scaleY(${scale})`,\n      transformOrigin: 'center top',\n    };\n    const renderedImages = [];\n    let renderedImagesPrevious = [];\n    let renderedImagesNext = [];\n\n    if(displayAllPreloaded) {\n      renderedImagesPrevious = navImages[0].filter(y => images[y] !== undefined).reverse().map(x =>\n        <div key={x}>\n          { this.getDisplayImage(images[x], autoWidth, imgStyle) }\n        </div>\n      );\n      renderedImagesNext = navImages[1].filter(y => (images[y] !== undefined) && (!doublePageMode || y != currentPosition+1)).map(x =>\n        <div key={x}>\n          { this.getDisplayImage(images[x], autoWidth, imgStyle) }\n        </div>\n      );\n    }\n\n    doublePageMode && (currentPosition < lastPosition) && images[currentPosition+1] && renderedImages.push(\n      this.getDisplayImage(images[currentPosition+1], autoWidth, imgStyle)\n    );\n    images[currentPosition] && renderedImages.push(\n      this.getDisplayImage(images[currentPosition], autoWidth, imgStyle)\n    );\n\n    const thumbnails = displayCovers && new Array(lastPosition).fill(0).map(\n      (_, i) => (\n        ({}.hasOwnProperty.call(images, (i + 1))) ? (\n          <div\n            key={images[(i + 1)].url}\n            style={{ width: 210, height: 285 }}\n          >\n            <img\n              className={'img-fluid mx-auto'}\n              src={images[(i + 1)].url}\n              alt=\"\"\n              width={200}\n              height={'auto'}\n            />\n          </div>) : (\n          <div\n            key={String(i + 1)}\n            style={{ width: 210, height: 285 }}\n          >\n            <h3>{'Not loaded'}</h3>\n          </div>\n        )\n      ),\n    );\n    const navSelectOptions = new Array(lastPosition).fill(0).map(\n      (_, i) => ({ value: (i + 1), label: (i + 1) }),\n    );\n    const ChangePageModal = showPositionModal && (\n      <div className={s.modalContainer}>\n        <Select\n          className={s.inlineBlock}\n          name=\"select-page-fast\"\n          value={{value: currentPosition, label: currentPosition}}\n          onChange={this.handlePositionModalGoTo}\n          options={navSelectOptions}\n          clearable={false}\n          autoBlur\n          openOnFocus\n          onClose={this.togglePositionModal}\n          noResultsText=\"No valid page\"\n          ref={ this.modalInput }\n        />\n      </div>\n    );\n    const ImagePreLoadIndicator = displayPreloadInfo && <PreloadProgressBars images={images}/>;\n    return (\n      <GlobalHotKeys className={s.HotKeys} keyMap={keyMap} handlers={this.keyHandlers}>\n        <div ref={node => (this.node = node)}>\n          <h6>{this.props.archive.title}</h6>\n          {\n            displayCovers &&\n            <Slider\n              dots={false}\n              infinite={false}\n              speed={0}\n              slidesToShow={3}\n              slidesToScroll={1}\n              focusOnSelect\n              centerMode\n              centerPadding={'0'}\n              ref={(c) => { this.slider = c; }}\n              variableWidth\n              initialSlide={this.props.startIndex - 1}\n              afterChange={this.handleSliderChange}\n            >\n              {thumbnails}\n            </Slider>}\n          {\n            displayNavigators &&\n              <NavigationPager\n                className={s.inlineBlock}\n                currentPosition={currentPosition}\n                lastPosition={lastPosition}\n                moveFirst={this.moveFirst}\n                moveLeft={this.moveLeft}\n                moveRight={this.moveRight}\n                moveLast={this.moveLast}\n                handleChange={this.handlePositionModalGoTo}\n                navSelectOptions={navSelectOptions}\n              />\n          }\n          { ImagePreLoadIndicator }\n          {\n            renderedImagesPrevious ?\n              <div id=\"img-previous\" className={s.imgContainer}>\n                { renderedImagesPrevious }\n              </div> :\n              null\n          }\n          <div id=\"img-display\" className={s.imgContainer} onClick={this.handleImgClick} ref={node => (this.imgContainer = node as GenericHTMLDivElement)}>\n            { ChangePageModal }\n            { images[currentPosition] ? renderedImages : <div>\n              <h5>Current image is loading...</h5>\n              <Spinner style={{ width: '3rem', height: '3rem' }} color=\"primary\" />\n            </div> }\n            <div className={cx(s.overlay, s.overlayTop, s.hide)}><span id=\"img-counter\">{currentPosition}</span>/{lastPosition}</div>\n            { Metadata }\n          </div>\n          {\n            renderedImagesNext ?\n              <div id=\"img-next\" className={s.imgContainer}>\n                { renderedImagesNext }\n              </div> :\n              null\n          }\n        </div>\n      </GlobalHotKeys>\n    );\n  }\n\n}\n\nexport default withRouter(ImageViewer);\n","import React, { Component } from 'react';\nimport { Spinner, Button } from 'reactstrap';\nimport ImageViewer from './ImageViewer/ImageViewer';\nimport {archiveAction, getArchiveExtendedComponent} from '../core/apiCalls';\nimport s from './Archive.scss';\nimport {ArchiveExtendedInfo, GenericHTMLDivElement} from \"../types\";\n\ninterface Props {\n  match: {\n    params: {\n      archiveId: string;\n      imgId: string;\n    };\n  };\n  handleQueueChange: (archiveId: string, queueChange: number) => void;\n  handleForceUpdateArchives: () => void;\n  createLog: (text: string, level: string) => void;\n  displayCovers: boolean;\n  displayNavigators: boolean;\n  displayMetadata: boolean;\n  displayPreloadInfo: boolean;\n  doublePageMode: boolean;\n  displayAllPreloaded: boolean;\n  autoWidth: boolean;\n  scale: number;\n  preloadCount: number;\n  setCurrentContainer: (container: GenericHTMLDivElement | null) => void;\n}\n\ninterface State {\n  archive: ArchiveExtendedInfo | null;\n  runningAction: boolean;\n}\n\nclass Archive extends Component<Props, State> {\n\n  state = {\n    archive: null,\n    runningAction: false,\n  };\n\n  componentDidMount(): void {\n    getArchiveExtendedComponent(this.props.match.params.archiveId, Number(this.props.match.params.imgId)).then(archive => {\n      this.setState({ archive });\n      document.title = archive.title;\n    })\n  }\n\n  componentDidUpdate(prevProps: Props): void {\n    const oldId = prevProps.match.params.archiveId;\n    const newId = this.props.match.params.archiveId;\n    const imgId = this.props.match.params.imgId;\n    if (newId !== oldId)\n      getArchiveExtendedComponent(newId, Number(imgId)).then(archive => {\n        this.setState({ archive });\n        document.title = archive.title;\n      })\n  }\n\n  onExtractClick = (): void => {\n    if (!this.state.runningAction && this.state.archive && !this.state.archive.extracted) {\n      this.handleArchiveAction(this.state.archive.id, 'extract_archive')\n    }\n  }\n\n  handleArchiveAction = (archiveId: string, action: string): void => {\n    this.setState({ runningAction: true });\n    archiveAction(archiveId, action)\n      .then((response) => {\n        if (response.result === 'ok') {\n          const { archive } = this.state;\n          if (response.change.field === 'extracted') {\n            archive[response.change.field] = (response.change.value.toString() === 'true');\n            this.setState({ archive });\n          }\n          this.props.createLog(`Archive ${archiveId} executed action ${action} successfully`, 'normal');\n        } else {\n          this.props.createLog(`Archive ${archiveId} executed action ${action} with response ${response.message}: ${response.result}`, 'normal');\n        }\n        this.setState({ runningAction: false });\n        this.props.handleForceUpdateArchives();\n      })\n      .catch(error => this.props.createLog(`Archive ${archiveId} executed action ${action} with async error: ${error}`, 'normal'));\n  };\n\n  render(): JSX.Element {\n    const { archive, runningAction } = this.state;\n    const {\n      match, handleQueueChange, displayCovers,\n      displayNavigators, displayMetadata, autoWidth,\n      displayPreloadInfo, doublePageMode, setCurrentContainer,\n      scale, preloadCount, displayAllPreloaded\n    } = this.props;\n    return (\n      <div className={s.container}>\n        {archive ?\n          archive.extracted ? <ImageViewer\n            startIndex={Number(match.params.imgId)}\n            archive={archive}\n            startPosition={1}\n            handleQueueChange={handleQueueChange}\n            displayCovers={displayCovers}\n            displayNavigators={displayNavigators}\n            displayMetadata={displayMetadata}\n            displayPreloadInfo={displayPreloadInfo}\n            doublePageMode={doublePageMode}\n            displayAllPreloaded={displayAllPreloaded}\n            setCurrentContainer={setCurrentContainer}\n            autoWidth={autoWidth}\n            scale={scale}\n            preloadCount={preloadCount}\n          /> : <div>\n            <h6>{archive.title}</h6>\n            <h6>Archive needs to be extracted before using it in here.</h6>\n            <Button onClick={this.onExtractClick} size=\"sm\" disabled={runningAction}>{'Extract Archive'}</Button>\n          </div>\n          : <Spinner className={s.titleContainer} style={{ width: '3rem', height: '3rem' }} color=\"primary\" />\n        }\n      </div>\n    );\n  }\n\n}\n\nexport default Archive;\n","import React from 'react';\nimport s from './Help.scss';\nimport cx from 'classnames';\n\ninterface Props {\n  actions: {\n    key: string;\n    name: string;\n    description: string;\n    action?: () => void\n  }[];\n}\n\n\nconst Help = ({actions}: Props): JSX.Element => (\n  <div className={s.flex}>\n    <div className={cx(s.verticalCenter, s.fullWidth)}>Keyboard shortcuts</div>\n    {\n      actions.map((x) =>\n        <div className={cx(s.verticalCenter, s.flex, s.fullWidth)} key={x.key}>\n          <div className={cx(s.grow)}>{x.description}</div>\n          <div className={cx(s.noGrow)}>{x.key}</div>\n        </div>\n      )\n    }\n  </div>\n);\n\nexport default Help;\n","import React from 'react';\n\ninterface AImage {src: string; title: string; height: number; width: number; className: string }\n\nconst ArchiveImage = ({src, title, height, width, className }: AImage): JSX.Element => {\n  const defaults = {\n    maxHeight: 290,\n    width,\n    // backgroundColor: 'gray',\n  };\n\n  const imgStyle = {\n    height: 'auto',\n    maxWidth: '100%',\n    maxHeight: height,\n    border: '1px solid #ccc',\n  };\n\n  return (<div className={className} style={{ ...defaults }}>\n    <img style={imgStyle} src={src} alt={title} height={height} width={width} />\n  </div>);\n};\n\nArchiveImage.defaultProps = {\n  width: 200,\n  height: 290,\n};\n\nexport default (ArchiveImage);\n","export default __webpack_public_path__ + \"static/media/no_cover.8e25d57e.png\";","import React from 'react';\nimport {\n  Link,\n  withRouter,\n} from 'react-router-dom';\nimport cx from 'classnames';\nimport s from './ArchiveCover.scss';\nimport ArchiveImage from '../ArchiveImage/ArchiveImage';\nimport noCover from '../../assets/no_cover.png';\nimport {ArchiveHomeInfo} from \"../../types\";\nimport {fileSizeIEC} from \"../../core/utils\";\n\ninterface P {\n  archive: ArchiveHomeInfo;\n  location: Location;\n}\n\nconst ArchiveCover = ({ archive, location }: P) => {\n  const image = archive.image ? archive.image : noCover;\n  const tags = archive.tags.map(tag => (\n    <div className={s.tag} key={tag}>{`${tag}`}</div>\n  ));\n  return (\n    <div className={cx(s.gallery, archive.extracted ? s.extracted : null)}>\n      <Link to={`/${archive.id}/img/1${location.search}`}>\n        <div className={s.coverTitle} title={archive.title}>\n          {archive.title}\n        </div>\n        <ArchiveImage className={s.imageContainer} src={image} title={archive.title} width={archive.image_width} height={archive.image_height} />\n        <div className={s.overlay}>\n          <div className={s.tags}>\n            {tags}\n          </div>\n        </div>\n      </Link>\n      <div>\n        <div className={s.caption}>\n          {`${archive.filecount} | ${fileSizeIEC(archive.filesize)} | `}\n          <a className={cx(s.link, s.highlight)} href={`${archive.url}`}>SRC</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(ArchiveCover);\n","import React from 'react';\nimport {\n  Link,\n  withRouter,\n} from 'react-router-dom';\nimport cx from 'classnames';\nimport s from './ArchiveLine.scss';\nimport {ArchiveHomeInfo} from \"../../types\";\nimport {fileSizeIEC} from \"../../core/utils\";\n\ninterface P {\n  archive: ArchiveHomeInfo;\n  location: Location;\n}\n\nconst ArchiveLine = ({ archive, location }: P) => {\n  const tags = archive.tags.map(tag => (\n    <div className={s.tag} key={tag}>{`${tag}`}</div>\n  ));\n  return (\n    <div className={cx(s.gallery, archive.extracted ? s.extracted : null)}>\n      <Link to={`/${archive.id}/img/1${location.search}`}>\n        <div className={s.coverTitle} title={archive.title}>\n          {archive.title}\n        </div>\n        <div className={s.overlay}>\n          <div className={s.tags}>\n            {tags}\n          </div>\n        </div>\n      </Link>\n      <div>\n        <div className={s.caption}>\n          {`${archive.filecount} | ${fileSizeIEC(archive.filesize)} | `}\n          <a className={cx(s.link, s.highlight)} href={`${archive.url}`}>SRC</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(ArchiveLine);\n","import React from 'react';\nimport { Button } from 'reactstrap';\n\ninterface Props {\n  onClick: () => void;\n  showContent: boolean;\n  alignRight: boolean;\n}\n\nconst commonStyle = {position: 'absolute', top: '0px'};\n\nconst ToggleButton = ({ onClick, showContent, alignRight }: Props): JSX.Element => {\n  let style;\n  const showContentIcon = alignRight ? '>' : '<';\n  const hideContentIcon = alignRight ? '<' : '>';\n  if(showContent) {\n    style = Object.assign({}, commonStyle, alignRight ? {left: '-30px'} : {right: '-30px'})\n  } else {\n    style = Object.assign({}, commonStyle, alignRight ? {right: '0'} : {left: '0'})\n  }\n  return (<Button onClick={onClick} size=\"sm\" style={style}>{showContent ? showContentIcon : hideContentIcon }</Button>)\n};\n\ninterface PaginationProps {\n  onClick: () => void;\n  staticContent: React.ReactNode;\n  marginTop?: number;\n  color?: string;\n}\n\nexport const SideToggleButton = ({ onClick, staticContent, marginTop = 1, color = 'info' }: PaginationProps): JSX.Element => (\n  <Button\n    color={color} onClick={onClick}\n    size=\"sm\" style={{width: '100%', marginTop: marginTop}}>\n    {staticContent}\n  </Button>\n);\n\nexport default ToggleButton;","import React from 'react';\nimport cx from 'classnames';\nimport ArchiveCover from '../ArchiveCover/ArchiveCover';\nimport ArchiveLine from '../ArchiveLine/ArchiveLine';\nimport ToggleButton, {SideToggleButton} from '../ToggleButton';\nimport s from './SidebarArchives.scss';\nimport {ArchiveHomeInfo, ArchiveObjectContainer} from \"../../types\";\n\nexport enum listView { cover, list }\n\nexport const listViewOptions = Object.keys(listView).filter((item) => {\n  return isNaN(Number(item));\n});\n\nexport const listViewLength = listViewOptions.length;\n\nconst buttonSize = 32;\n\ninterface SideOptionsBarProps {\n  showContent: boolean;\n  topSkip: number;\n}\n\nconst styleSideList = {position: 'absolute' as any, width: '35px'};\n\nconst SideOptionsBar: React.FC<SideOptionsBarProps> = ({ showContent, topSkip, children }) => {\n  let style;\n\n  if(showContent) {\n    style = Object.assign({}, styleSideList, {right: '-36px'})\n  } else {\n    style = Object.assign({}, styleSideList, {left: '0'})\n  }\n\n  style.top = `${topSkip}px`\n\n  return (<div style={style}>{children}</div>)\n};\n\nconst getImageElement = (viewMode: listView, archive: ArchiveHomeInfo) => {\n  switch (viewMode) {\n    case listView.cover:\n      return <ArchiveCover\n        archive={archive}\n      />;\n    case listView.list:\n      return <ArchiveLine\n        archive={archive}\n      />;\n    default:\n      return <ArchiveCover\n        archive={archive}\n      />;\n  }\n}\n\nconst getViewIcon = (viewMode: listView) => {\n  switch (viewMode) {\n    case listView.cover:\n      return <i className=\"fas fa-solid fa-images\"></i>;\n    case listView.list:\n      return <i className=\"fas fa-solid fa-list\"></i>;\n    default:\n      return <i className=\"fas fa-solid fa-images\"></i>;\n  }\n}\n\nconst getExtractedIcon = (extractedOnly: boolean) => {\n  return extractedOnly ? <i className=\"fas fa-solid fa-file-archive\"></i> : <i className=\"fas fa-regular fa-file-archive\"></i>\n}\n\nconst getViewListClass = (viewMode: listView) => {\n  switch (viewMode) {\n    case listView.cover:\n      return s.archCont;\n    case listView.list:\n      return s.archContList;\n    default:\n      return s.archCont;\n  }\n}\n\ninterface Props {\n  archives: ArchiveObjectContainer;\n  displayQueue: boolean;\n  toggleQueue: () => void;\n  className?: string;\n  handleGoToPage: (archivePage: number) => void;\n  viewMode: listView;\n  handleViewMode: () => void;\n  extractedOnly: boolean;\n  handleToggleExtractedOnly: () => void;\n}\n\nconst SidebarArchives = (\n  {displayQueue, archives, toggleQueue, className,\n    handleGoToPage, viewMode, handleViewMode, extractedOnly, handleToggleExtractedOnly}: Props): JSX.Element => (\n  <div className={cx(className, displayQueue ? getViewListClass(viewMode) : null)}>\n    <div className={s.overflowScroll}>\n      {\n        displayQueue ? archives.objects.map(\n          (archive) => (\n            <div key={archive.id}>\n              {getImageElement(viewMode, archive)}\n            </div>\n          ),\n        ) : null\n      }\n    </div>\n    <div>\n      <ToggleButton onClick={toggleQueue} showContent={displayQueue} alignRight={false}/>\n      {\n        displayQueue ?\n          <SideOptionsBar showContent={displayQueue} topSkip={buttonSize}>\n            <div>\n              <SideToggleButton\n                onClick={() => handleGoToPage(1)}\n                staticContent={'⏮'}\n              />\n              <SideToggleButton\n                onClick={() => handleGoToPage(archives.has_previous ? archives.number - 1 : 1)}\n                staticContent={'⏴'}\n              />\n              <SideToggleButton\n                onClick={() => handleGoToPage(archives.has_next ? archives.number + 1 : archives.number)}\n                staticContent={'⏵'}\n              />\n              <SideToggleButton\n                onClick={() => handleGoToPage(archives.num_pages)}\n                staticContent={'⏭'}\n              />\n            </div>\n            <SideToggleButton\n              onClick={() => handleGoToPage(archives.num_pages)}\n              staticContent={'⏭'}\n            />\n            <SideToggleButton\n              onClick={() => handleToggleExtractedOnly()}\n              staticContent={getExtractedIcon(extractedOnly)}\n              marginTop={3}\n              color={'success'}\n            />\n            <SideToggleButton\n              onClick={() => handleViewMode()}\n              staticContent={getViewIcon(viewMode)}\n              color={'success'}\n            />\n\n          </SideOptionsBar>\n          : null\n      }\n    </div>\n  </div>\n);\n\nexport default SidebarArchives;","import React from 'react';\nimport { Button } from 'reactstrap';\nimport ToggleButton from '../ToggleButton';\n\ninterface Props {\n  displayControls: boolean;\n  toggleControls: () => void;\n  className?: string;\n  controls: {key: string; name: string; description: string; action?: () => void}[];\n}\n\nconst SidebarControls = ({displayControls, toggleControls, className, controls}: Props): JSX.Element => (\n  <div className={className}>\n    {\n      <div>\n        {\n          displayControls ? controls.map(\n            (control) => (\n              <div key={control.key}>\n                <Button onClick={control.action} color=\"primary\" size=\"sm\" block>{control.description}</Button>\n              </div>\n            ),\n          ) : null\n        }\n        <ToggleButton onClick={toggleControls} showContent={displayControls} alignRight={true}/>\n      </div>\n    }\n  </div>\n);\n\nexport default SidebarControls;","import React, {useState} from 'react';\nimport AsyncSelect from 'react-select/async';\nimport s from \"./ArchiveSelect.scss\";\nimport {getArchiveSimpleList} from \"../../core/apiCalls\";\n\ntype HeaderProps = {\n  handleQueryChange: (value: string) => void;\n}\n\nconst customStyles = {\n  menu: (provided, state) => ({\n    ...provided,\n    color: state.selectProps.menuColor,\n  }),\n}\n\nfunction ArchiveSelect({ handleQueryChange }: HeaderProps): JSX.Element {\n  const [, setValue] = useState('');\n  const [selectedValue, setSelectedValue] = useState(null);\n\n  // handle input change event\n  const handleInputChange = value => {\n    setValue(value);\n  };\n\n  // handle selection\n  const handleChange = value => {\n    setSelectedValue(value);\n    handleQueryChange(value.id);\n  }\n\n  // load options using API call\n  const loadOptions = (inputValue) => {\n    return getArchiveSimpleList(inputValue);\n  };\n\n  return (\n    <div className={s.modalContainer}>\n      <AsyncSelect\n        cacheOptions\n        defaultOptions={[]}\n        value={selectedValue}\n        getOptionLabel={e => e.title}\n        getOptionValue={e => e.id}\n        loadOptions={loadOptions}\n        onInputChange={handleInputChange}\n        onChange={handleChange}\n        menuColor='black'\n        styles={customStyles}\n      />\n    </div>\n  );\n}\n\nexport default ArchiveSelect;","import React, {Component} from 'react';\nimport {Route, withRouter,} from 'react-router-dom';\nimport {HotKeys} from 'react-hotkeys';\nimport cx from 'classnames';\nimport Archive from './Archive';\nimport Help from './Help';\nimport SidebarArchives, {listView, listViewLength} from './SidebarArchives';\nimport SidebarControls from './SidebarControls';\nimport {getArchivesComponent} from '../core/apiCalls';\nimport s from './Home.scss';\nimport {ArchiveObjectContainer, GenericHTMLDivElement, LogEntry, Match} from \"../types\";\nimport ArchiveSelect from \"./ArchiveSelect\";\nimport {History} from 'history';\nimport qs from \"qs\";\n\ninterface Props {\n  match: Match;\n  location: Location;\n  history: History;\n}\n\ninterface State {\n  archives: ArchiveObjectContainer | null;\n  displayHelp: boolean;\n  displayControls: boolean;\n  displayQueue: boolean;\n  sideListView: listView;\n  displayExtractedOnly: boolean;\n  displayCovers: boolean;\n  displayNavigators: boolean;\n  displayMetadata: boolean;\n  displayPreloadInfo: boolean;\n  doublePageMode: boolean;\n  autoWidth: boolean;\n  scale: number;\n  preloadCount: number;\n  currentContainer: GenericHTMLDivElement | null;\n  displayAllPreloaded: boolean;\n  showSearchArchiveModal: boolean;\n  logs: LogEntry[];\n  showAllLogs: boolean;\n}\n\nclass Home extends Component<Props, State> {\n\n  state = {\n    archives: null,\n    sideListView: listView.cover,\n    displayQueue: false,\n    displayHelp: false,\n    displayControls: false,\n    currentArchive: null,\n    displayExtractedOnly: false,\n    displayCovers: false,\n    displayNavigators: true,\n    displayMetadata: false,\n    displayPreloadInfo: false,\n    doublePageMode: false,\n    autoWidth: false,\n    scale: 1.0,\n    preloadCount: 5,\n    currentContainer: null,\n    displayAllPreloaded: false,\n    showSearchArchiveModal: false,\n    logs: [\n      {\n        id: 0,\n        level: 'normal',\n        text: 'Image Viewer started',\n      },\n    ],\n    showAllLogs: false,\n  };\n\n  _HotKeysContainer: React.RefObject<HTMLElement>;\n\n  constructor(props: Props) {\n    super(props);\n    this._HotKeysContainer = React.createRef<HTMLElement>();\n\n  }\n\n  componentDidMount() {\n    // window.addEventListener('keydown', this.handleKeyDown);\n    if(this._HotKeysContainer && this._HotKeysContainer.current) {\n      this._HotKeysContainer.current.focus();\n    }\n    const newSearch = this.props.location.search;\n    getArchivesComponent(newSearch).then(archives => {\n      this.setState({ archives });\n    });\n    this.handleSearchParameterChanges(newSearch);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const oldSearch = prevProps.location.search;\n    const newSearch = this.props.location.search;\n    if (newSearch !== oldSearch) {\n      getArchivesComponent(newSearch).then(archives => {\n        this.setState({archives});\n      });\n      this.handleSearchParameterChanges(newSearch);\n    }\n  }\n\n  componentWillUnmount() {\n    // window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  toggleFullSize = () => {\n    this.setState({ autoWidth: !this.state.autoWidth });\n  };\n\n  toggleMetadata = () => {\n    this.setState({ displayMetadata: !this.state.displayMetadata });\n  };\n\n  toggleDoublePageMode = () => {\n    this.setState({ doublePageMode: !this.state.doublePageMode });\n  };\n\n  decreaseScale = () => {\n    this.setState({ scale: this.state.scale - 0.1 });\n  };\n\n  increaseScale = () => {\n    this.setState({ scale: this.state.scale + 0.1 });\n  };\n\n  resetScale = () => {\n    this.setState({ scale: 1.0 });\n  };\n\n  togglePreloadInfo = () => {\n    this.setState({ displayPreloadInfo: !this.state.displayPreloadInfo });\n  };\n\n  toggleHelp = () => {\n    this.setState({ displayHelp: !this.state.displayHelp });\n  };\n\n  toggleCovers = () => {\n    this.setState({ displayCovers: !this.state.displayCovers });\n  };\n\n  toggleQueue = () => {\n    this.setState({ displayQueue: !this.state.displayQueue });\n  };\n\n  toggleSideListView = () => {\n    this.setState({ sideListView: listView[listView[(this.state.sideListView + 1) % listViewLength]] as listView });\n  };\n\n  handleSearchParameterChanges = (queryString: string) => {\n\n    const currentSearch = qs.parse(queryString, { ignoreQueryPrefix: true });\n\n    if(currentSearch.hasOwnProperty('extracted')) {\n      this.setState({ displayExtractedOnly: true });\n    }\n    else {\n      this.setState({ displayExtractedOnly: false });\n    }\n  }\n\n  toggleExtractedOnly = () => {\n    const currentLocation = this.props.location;\n    const currentSearch = qs.parse(this.props.location.search, { ignoreQueryPrefix: true });\n\n    if(currentSearch.hasOwnProperty('extracted')) {\n      delete currentSearch['extracted']\n    }\n    else {\n      currentSearch['extracted'] = '1'\n    }\n    this.props.history.push({\n      pathname: currentLocation.pathname,\n      search: qs.stringify(currentSearch)\n    });\n  }\n\n  togglePreloadCount = () => {\n    this.setState({ preloadCount: this.state.preloadCount == 5 ? 1 : 5 });\n  };\n\n  toggleControls = () => {\n    this.setState({ displayControls: !this.state.displayControls });\n  };\n\n  setCurrentContainer = (container: GenericHTMLDivElement | null) => {\n    this.setState({ currentContainer: container });\n  };\n\n  contentFullScreen = () => {\n    if (!(document).fullscreenElement &&    // alternative standard method\n      !(document).mozFullScreenElement && !(document).webkitFullscreenElement && !(document).msFullscreenElement) {\n      const elem = this.state.currentContainer;\n      if (elem) {\n        if (elem.requestFullscreen) {\n          elem.requestFullscreen();\n        } else if (elem.msRequestFullscreen) {\n          elem.msRequestFullscreen();\n        } else if (elem.mozRequestFullScreen) {\n          elem.mozRequestFullScreen();\n        } else if (elem.webkitRequestFullscreen) {\n          elem.webkitRequestFullscreen();\n        }\n        this._HotKeysContainer.current.focus();\n      }\n    } else if ((document).exitFullscreen) {\n      (document).exitFullscreen();\n    } else if ((document).msExitFullscreen) {\n      (document).msExitFullscreen();\n    } else if ((document).mozCancelFullScreen) {\n      (document).mozCancelFullScreen();\n    } else if ((document).webkitExitFullscreen) {\n      (document).webkitExitFullscreen();\n    }\n  };\n\n  toggleAllPreloaded = () => {\n    this.setState({ displayAllPreloaded: !this.state.displayAllPreloaded });\n  };\n\n  toggleSearchArchiveModal = () => {\n    this.setState({ showSearchArchiveModal: !this.state.showSearchArchiveModal });\n  };\n\n  toggleAllLogs = () => {\n    this.setState({ showAllLogs: !this.state.showAllLogs });\n  };\n\n  actions: {key: string; name: string; description: string; input?: string; action?: () => void}[] = [\n    {key: 'left, a', name: 'moveLeft', description: 'Move Left'},\n    {key: 'right, d, space', name: 'moveRight', description: 'Move Right'},\n    {key: 'shift+left', name: 'moveFirst', description: 'Move First'},\n    {key: 'shift+right', name: 'moveLast', description: 'Move Last'},\n    {key: 'y', name: 'previousQueue', description: 'Previous in queue'},\n    {key: 'i', name: 'nextQueue', description: 'Next in queue'},\n    {key: 'h', name: 'toggleHelp', description: 'Toggle help'},\n    {key: 'p', name: 'toggleQueue', description: 'Toggle queue'},\n    {key: 'l', name: 'toggleControls', description: 'Toggle controls'},\n    {key: '-', name: 'decreaseScale', description: 'Decrease Scale', action: this.decreaseScale},\n    {key: '+', name: 'increaseScale', description: 'Increase Scale', action: this.increaseScale},\n    {key: '=', name: 'resetScale', description: 'Reset Scale', action: this.resetScale},\n    {key: 'g', name: 'toggleFullSize', description: 'Full Size', action: this.toggleFullSize},\n    {key: 'f', name: 'toggleFullScreen', description: 'Full Screen', action: this.contentFullScreen},\n    {key: 'o', name: 'toggleAllPreloaded', description: 'Display all preloaded', action: this.toggleAllPreloaded},\n    {key: 'z', name: 'toggleSearchArchiveModal', description: 'Archive Search', action: this.toggleSearchArchiveModal},\n    {key: 'c', name: 'toggleCovers', description: 'Covers'},\n    {key: 't', name: 'toggleDoublePageMode', description: 'Double page mode', action: this.toggleDoublePageMode},\n    {key: 'u', name: 'togglePositionModal', description: 'Position Modal'},\n    {key: 'j', name: 'toggleMetadata', description: 'Metadata', action: this.toggleMetadata},\n    {key: 'shift+p', name: 'togglePreloadCount', description: 'Preload Count', action: this.togglePreloadCount},\n    {key: 'shift+j', name: 'togglePreloadInfo', description: 'Preload Info', action: this.togglePreloadInfo},\n    {key: 'shift+l', name: 'toggleAllLogs', description: 'Show Logs', action: this.toggleAllLogs}\n  ];\n\n  // Be careful not to clash keys with ImageViewer.\n  keyHandlers = {\n    'togglePreloadInfo': this.togglePreloadInfo,\n    'decreaseScale': this.decreaseScale,\n    'increaseScale': this.increaseScale,\n    'resetScale': this.resetScale,\n    'toggleFullSize': this.toggleFullSize,\n    'toggleCovers': this.toggleCovers,\n    'toggleDoublePageMode': this.toggleDoublePageMode,\n    'toggleHelp': this.toggleHelp,\n    'toggleMetadata': this.toggleMetadata,\n    'toggleQueue': this.toggleQueue,\n    'toggleControls': this.toggleControls,\n    'toggleFullScreen': this.contentFullScreen,\n    'togglePreloadCount': this.togglePreloadCount,\n    'toggleAllPreloaded': this.toggleAllPreloaded,\n    'toggleSearchArchiveModal': this.toggleSearchArchiveModal,\n    'toggleAllLogs': this.toggleAllLogs\n  };\n\n  handleQueueChange = (archiveId: string, queueChange: number) => {\n    if (this.state.archives) {\n      const foundIndex = this.state.archives.objects.findIndex((archive) => archive.id === archiveId);\n      if (foundIndex > -1 && this.state.archives) {\n        const probableNextPosition = foundIndex + queueChange;\n        if (probableNextPosition >= 0 && probableNextPosition < this.state.archives.objects.length) {\n          this.props.history.push(`/${this.state.archives.objects[probableNextPosition].id}/img/1${this.props.location.search}`);\n        }\n      }\n    }\n  };\n\n  handleForceUpdateArchives = () => {\n    const newSearch = this.props.location.search;\n    getArchivesComponent(newSearch).then(archives => {\n      this.setState({ archives });\n    })\n    this.handleSearchParameterChanges(newSearch);\n  }\n\n  handleGoToArchive = (archiveId: string) => {\n    this.props.history.push(`/${archiveId}/img/1${this.props.location.search}`);\n    this.setState({showSearchArchiveModal: false})\n  }\n\n  handleGoToArchiveSearchPage = (archivePage: number) => {\n    const currentLocation = this.props.location;\n    const currentSearch = qs.parse(this.props.location.search, { ignoreQueryPrefix: true });\n    currentSearch.page = String(archivePage);\n    this.props.history.push({\n      pathname: currentLocation.pathname,\n      search: qs.stringify(currentSearch)\n    });\n  }\n\n  createLog = (text: string, level: string) => {\n    this.setState((state) => {\n      return {logs: [{\n        id: state.logs.length,\n        level,\n        text,\n      }, ...state.logs]};\n    });\n  }\n\n  render() {\n    const {\n      archives, displayQueue, displayHelp,\n      displayCovers, displayNavigators,\n      displayMetadata, autoWidth,\n      displayPreloadInfo, doublePageMode,\n      displayControls, scale, preloadCount,\n      displayAllPreloaded, logs, showAllLogs,\n      showSearchArchiveModal, sideListView,\n      displayExtractedOnly\n    } = this.state;\n    const currentLogsFormatted = logs.map(log => (\n      <div className={s[`logLevel-${log.level}`]} key={log.id}>{`${log.text}`}</div>\n    ));\n    const { match } = this.props;\n    const SearchArchiveModal = showSearchArchiveModal && (\n      <div className={s.modalContainer}>\n        <ArchiveSelect handleQueryChange={this.handleGoToArchive} />\n      </div>\n    );\n    return (\n      <HotKeys\n        className={s.HotKeys}\n        innerRef={this._HotKeysContainer}\n        keyMap={\n          this.actions\n            .filter(obj => this.keyHandlers.hasOwnProperty(obj.name))\n            .reduce((map, obj) => {map[obj.name] = obj.key; return map;}, {})\n        }\n        handlers={this.keyHandlers}>\n        <div>\n          {\n            <div className={s.container}>\n              {\n                archives ?\n                  <SidebarArchives\n                    className={s.overlayLeft}\n                    archives={archives}\n                    displayQueue={displayQueue}\n                    toggleQueue={this.toggleQueue}\n                    handleViewMode={this.toggleSideListView}\n                    extractedOnly={displayExtractedOnly}\n                    handleToggleExtractedOnly={this.toggleExtractedOnly}\n                    handleGoToPage={this.handleGoToArchiveSearchPage}\n                    viewMode={sideListView}/> : null\n              }\n              { showAllLogs ? <CustomPopover lines={currentLogsFormatted} /> : null }\n              <div style={{ position: 'relative' }}>\n                { SearchArchiveModal }\n                <Route\n                  path={`${match.url}:archiveId/img/:imgId`}\n                  render={ props => <Archive\n                    handleQueueChange={this.handleQueueChange}\n                    handleForceUpdateArchives={this.handleForceUpdateArchives}\n                    createLog={this.createLog}\n                    displayCovers={displayCovers}\n                    displayNavigators={displayNavigators}\n                    displayMetadata={displayMetadata}\n                    displayPreloadInfo={displayPreloadInfo}\n                    displayAllPreloaded={displayAllPreloaded}\n                    showSearchArchiveModal={showSearchArchiveModal}\n                    doublePageMode={doublePageMode}\n                    setCurrentContainer={this.setCurrentContainer}\n                    autoWidth={autoWidth}\n                    scale={scale}\n                    preloadCount={preloadCount}\n                    {...props}\n                  />}\n                />\n              </div>\n              {\n                displayHelp && <div className={cx(s.overlay, s.overlayHelp)}><Help actions={this.actions}/></div>\n              }\n              <SidebarControls\n                className={s.overlayRight}\n                displayControls={displayControls}\n                toggleControls={this.toggleControls}\n                controls={this.actions.filter(x => x.action !== undefined)}\n              />\n            </div>\n          }\n        </div>\n      </HotKeys>\n    );\n  }\n}\n\nconst CustomPopover = ({ lines }: {lines: JSX.Element[]}) => (\n  <div className={s.popOver}>\n    {lines}\n  </div>\n);\n\nexport default withRouter(Home);","import React from 'react';\nimport {\n  BrowserRouter,\n  Route,\n} from 'react-router-dom'\nimport Home from './Home';\nimport { config } from '../config';\n\nconst App = (): JSX.Element => (\n  <React.StrictMode>\n    <BrowserRouter basename={config.basename}>\n      <Route path=\"/\" component={Home}/>\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/theme.scss';\nimport './styles/bootstrap-theme.scss';\nimport App from './components/App';\n// import registerServiceWorker from './registerServiceWorker';\n\nconst root = document.getElementById('root');\n\nif (root !== null) {\n  ReactDOM.render(<App/>, root);\n}\n\n// registerServiceWorker();\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ArchiveCover.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ArchiveLine.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/dist/cjs.js!./Home.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./Help.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./SidebarArchives.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/dist/cjs.js!./Archive.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./NavigationPager.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ArchiveSelect.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ImageViewer.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".NavigationPager__midItem___1cqZa{padding:0.25rem 0.75rem;line-height:1.25;color:#ddd;background-color:#0e1339;border:1px solid #dee2e6}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"midItem\": \"NavigationPager__midItem___1cqZa\"\n};\nmodule.exports = exports;\n"],"sourceRoot":""}